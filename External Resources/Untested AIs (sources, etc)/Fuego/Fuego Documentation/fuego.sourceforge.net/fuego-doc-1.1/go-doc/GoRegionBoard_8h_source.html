<html>

<!-- Mirrored from fuego.sourceforge.net/fuego-doc-1.1/go-doc/GoRegionBoard_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 25 Apr 2012 18:02:24 GMT -->
<head>
<title>Go Library: GoRegionBoard.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<div class="qindex">
<a class="qindex" href="../main.html">Index</a> &nbsp;
<a class="qindex" href="index.html">Main</a> &nbsp;
<a class="qindex" href="namespaces.html">Namespaces</a> &nbsp;
<a class="qindex" href="classes.html">Classes</a> &nbsp;
<a class="qindex" href="hierarchy.html">Hierarchy</a> &nbsp;
<a class="qindex" href="annotated.html">Annotated</a> &nbsp;
<a class="qindex" href="files.html">Files</a> &nbsp;
<!--
<a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp;>
-->
<a class="qindex" href="functions.html">Compound</a> &nbsp;
<a class="qindex" href="globals.html">Global</a> &nbsp;
<a class="qindex" href="pages.html">Pages</a> &nbsp;
</div>
<!-- Generated by Doxygen 1.7.1 -->
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_9632b5034bf30c45b537da76f0b0ae3d.html">go</a>      </li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>GoRegionBoard.h</h1>  </div>
</div>
<div class="contents">
<a href="GoRegionBoard_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//----------------------------------------------------------------------------</span><span class="comment"></span>
<a name="l00002"></a>00002 <span class="comment">/** @file GoRegionBoard.h</span>
<a name="l00003"></a>00003 <span class="comment">    A GoRegionBoard provides the connected components of a GoBoard. */</span>
<a name="l00004"></a>00004 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef GO_REGIONBOARD_H</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define GO_REGIONBOARD_H</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="GoBoard_8h.html" title="Go board with basic board and blocks.">GoBoard.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="GoRegion_8h.html" title="A GoRegion contained in a.">GoRegion.h</a>&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">class </span><a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>;
<a name="l00013"></a>00013 <span class="keyword">class </span><a class="code" href="classGoChain.html" title="Set of GoBlock&amp;#39;s that are a connected unit.">GoChain</a>;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">/** GoRegionBoard provides GoRegion, GoBlock and optionally GoChain.</span>
<a name="l00018"></a>00018 <span class="comment">    To keep it updated during search, call OnExecutedMove</span>
<a name="l00019"></a>00019 <span class="comment">    (or OnExecutedUncodedMove) and OnUndoneMove when Executing/Undoing a move.</span>
<a name="l00020"></a>00020 <span class="comment"></span>
<a name="l00021"></a>00021 <span class="comment">    A GoRegionBoard depends on a GoBoard (supplied at construction)</span>
<a name="l00022"></a>00022 <span class="comment">    for keeping the low-level board state, Go rules etc.</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">    There is a certain amount of duplication between the private blocks of a</span>
<a name="l00025"></a>00025 <span class="comment">    GoBoard and the GoBlock&#39;s in a GoRegionBoard.</span>
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="comment">    GoChain&#39;s are not updated automatically for performance reasons</span>
<a name="l00028"></a>00028 <span class="comment">    - call GenChains() to update them. */</span>
<a name="l00029"></a><a class="code" href="classGoRegionBoard.html">00029</a> <span class="keyword">class </span><a class="code" href="classGoRegionBoard.html" title="GoRegionBoard provides GoRegion, GoBlock and optionally GoChain.">GoRegionBoard</a>
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031 <span class="keyword">public</span>:
<a name="l00032"></a>00032 <span class="comment"></span>
<a name="l00033"></a>00033 <span class="comment">    /** Constructor */</span>
<a name="l00034"></a>00034     <span class="keyword">explicit</span> <a class="code" href="classGoRegionBoard.html#aa572a416c5eb7cdfb10e43fe46676179" title="Constructor.">GoRegionBoard</a>(<span class="keyword">const</span> <a class="code" href="classGoBoard.html" title="Go board.">GoBoard</a>&amp; board);
<a name="l00035"></a>00035 <span class="comment"></span>
<a name="l00036"></a>00036 <span class="comment">    /** release memory. Calls Clear() */</span>
<a name="l00037"></a>00037     <span class="keyword">virtual</span> <a class="code" href="classGoRegionBoard.html#a330b01ad53c0cc066317985a81fc57e0" title="release memory.">~GoRegionBoard</a>();
<a name="l00038"></a>00038 <span class="comment"></span>
<a name="l00039"></a>00039 <span class="comment">    /** delete all blocks and regions, set board size */</span>
<a name="l00040"></a>00040     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ad57688e2f1fee9f79adace0500bcdeaf" title="delete all blocks and regions, set board size">Clear</a>();
<a name="l00041"></a>00041 <span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">    /** For debugging */</span>
<a name="l00043"></a>00043     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a93295fa681689ccd532285cbc12edec3" title="For debugging.">CheckConsistency</a>() <span class="keyword">const</span>;
<a name="l00044"></a>00044 <span class="comment"></span>
<a name="l00045"></a>00045 <span class="comment">    /** Have blocks and regions been computed for current board position? */</span>
<a name="l00046"></a><a class="code" href="classGoRegionBoard.html#aa179c24006e1433e4ab9b7faadb1ad3f">00046</a>     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#aa179c24006e1433e4ab9b7faadb1ad3f" title="Have blocks and regions been computed for current board position?">UpToDate</a>()<span class="keyword"> const</span>
<a name="l00047"></a>00047 <span class="keyword">    </span>{
<a name="l00048"></a>00048         <span class="keywordflow">return</span>    ! <a class="code" href="classGoRegionBoard.html#af1c55a2ad07d4ea4f4ab15238ebce8e6" title="does block and region data match current board?">m_invalid</a>
<a name="l00049"></a>00049                &amp;&amp; <a class="code" href="classGoRegionBoard.html#acc7d9a259f877c86ca882d4c2532106d" title="Boardsize is needed to avoid problems with resizing an empty board.">m_boardSize</a> == <a class="code" href="classGoRegionBoard.html#a7d2850530ca04167e929a62f6dd3857c">m_board</a>.<a class="code" href="classGoBoard.html#a616aba99c5f7075be081451d6cefbaf0" title="Return the size of this board.">Size</a>()
<a name="l00050"></a>00050                &amp;&amp; <a class="code" href="classGoRegionBoard.html#a4b0cfbfe9eb0c8ec26ae5952d0d53452" title="Code for last time block and region information was computed.">m_code</a> == <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoBoard.html#a897868b5775c049821a9383d1848fc6b" title="Return hash code for this position.">GetHashCode</a>();
<a name="l00051"></a>00051     }
<a name="l00052"></a>00052     
<a name="l00053"></a><a class="code" href="classGoRegionBoard.html#aecc06bf58e934b5efc2dc933e6250b20">00053</a>     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#aecc06bf58e934b5efc2dc933e6250b20">ComputedHealthy</a>()<span class="keyword"> const</span>
<a name="l00054"></a>00054 <span class="keyword">    </span>{
<a name="l00055"></a>00055         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a193bbaa185a15ee30cfe99c6f6d18702" title="has healthy count been computed for all blocks?">m_computedHealthy</a>;
<a name="l00056"></a>00056     }
<a name="l00057"></a>00057 <span class="comment"></span>
<a name="l00058"></a>00058 <span class="comment">    /** Have chains been computed for current board position? */</span>
<a name="l00059"></a><a class="code" href="classGoRegionBoard.html#aed24a1bbeaf5022b955833a39879aa94">00059</a>     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#aed24a1bbeaf5022b955833a39879aa94" title="Have chains been computed for current board position?">ChainsUpToDate</a>()<span class="keyword"> const</span>
<a name="l00060"></a>00060 <span class="keyword">    </span>{
<a name="l00061"></a>00061         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#aa179c24006e1433e4ab9b7faadb1ad3f" title="Have blocks and regions been computed for current board position?">UpToDate</a>() &amp;&amp; <a class="code" href="classGoRegionBoard.html#aab80fccf81b60392d39877a8f12d899a" title="Code for last time chain information was computed.">m_chainsCode</a> == <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoBoard.html#a897868b5775c049821a9383d1848fc6b" title="Return hash code for this position.">GetHashCode</a>();
<a name="l00062"></a>00062     }
<a name="l00063"></a>00063 <span class="comment"></span>
<a name="l00064"></a>00064 <span class="comment">    /** MUST call before playing move on GoBoard */</span>
<a name="l00065"></a>00065     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a4ce95d84211ee077ccde50e25cb22dba" title="MUST call before playing move on GoBoard.">ExecuteMovePrologue</a>();
<a name="l00066"></a>00066 <span class="comment"></span>
<a name="l00067"></a>00067 <span class="comment">    /** Called after a move or added stone has been successfully executed.</span>
<a name="l00068"></a>00068 <span class="comment">        The board is guaranteed to be in a legal state. */</span>
<a name="l00069"></a>00069     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a9b918e1c15799394f18df935e5714871" title="Called after a move or added stone has been successfully executed.">OnExecutedMove</a>(<a class="code" href="classGoPlayerMove.html" title="Move and color of player who plays it.">GoPlayerMove</a> playerMove);
<a name="l00070"></a>00070 <span class="comment"></span>
<a name="l00071"></a>00071 <span class="comment">    /** Similar to OnExecutedMove, but move is not coded into one int. */</span>
<a name="l00072"></a>00072     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#afe32686c0f4e64d2a0f30a543acb083f" title="Similar to OnExecutedMove, but move is not coded into one int.">OnExecutedUncodedMove</a>(<span class="keywordtype">int</span> move, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> moveColor);
<a name="l00073"></a>00073 <span class="comment"></span>
<a name="l00074"></a>00074 <span class="comment">    /** Called after a move has been undone.</span>
<a name="l00075"></a>00075 <span class="comment">        The board is guaranteed to be in a legal state. */</span>
<a name="l00076"></a>00076     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ab71fd3a6df6923de9d75153f99e296e4" title="Called after a move has been undone.">OnUndoneMove</a>();
<a name="l00077"></a>00077 <span class="comment"></span>
<a name="l00078"></a>00078 <span class="comment">    /** All GoBlock&#39;s of given color */</span>
<a name="l00079"></a><a class="code" href="classGoRegionBoard.html#a0b11439e6f485a46b9e844cc2f5ee658">00079</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoBlock&gt;</a>&amp; <a class="code" href="classGoRegionBoard.html#a0b11439e6f485a46b9e844cc2f5ee658" title="All GoBlock&amp;#39;s of given color.">AllBlocks</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)
<a name="l00080"></a>00080     {
<a name="l00081"></a>00081         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a34fa37292eb0272c6af3dca68eacb6bb" title="All blocks on board.">m_allBlocks</a>[color];
<a name="l00082"></a>00082     }
<a name="l00083"></a>00083 <span class="comment"></span>
<a name="l00084"></a>00084 <span class="comment">    /** All GoBlock&#39;s of given color */</span>
<a name="l00085"></a><a class="code" href="classGoRegionBoard.html#a36026c24927926efe499b034dadb11eb">00085</a>     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoBlock&gt;</a>&amp; <a class="code" href="classGoRegionBoard.html#a0b11439e6f485a46b9e844cc2f5ee658" title="All GoBlock&amp;#39;s of given color.">AllBlocks</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)<span class="keyword"> const</span>
<a name="l00086"></a>00086 <span class="keyword">    </span>{
<a name="l00087"></a>00087         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a34fa37292eb0272c6af3dca68eacb6bb" title="All blocks on board.">m_allBlocks</a>[color];
<a name="l00088"></a>00088     }
<a name="l00089"></a>00089 <span class="comment"></span>
<a name="l00090"></a>00090 <span class="comment">    /** All GoChain&#39;s of given color */</span>
<a name="l00091"></a><a class="code" href="classGoRegionBoard.html#a53703dedec1c95bf2c05d5372eb975ec">00091</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoChain&gt;</a>&amp; <a class="code" href="classGoRegionBoard.html#a53703dedec1c95bf2c05d5372eb975ec" title="All GoChain&amp;#39;s of given color.">AllChains</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)
<a name="l00092"></a>00092     {
<a name="l00093"></a>00093         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a82ba17fe63ebba68cd8949c198bb086d" title="All chains on board.">m_allChains</a>[color];
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095 <span class="comment"></span>
<a name="l00096"></a>00096 <span class="comment">    /** All GoChain&#39;s of given color */</span>
<a name="l00097"></a><a class="code" href="classGoRegionBoard.html#afd6344f4d4eff1bf7e885a0fd6ccc7c2">00097</a>     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoChain&gt;</a>&amp; <a class="code" href="classGoRegionBoard.html#a53703dedec1c95bf2c05d5372eb975ec" title="All GoChain&amp;#39;s of given color.">AllChains</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)<span class="keyword"> const</span>
<a name="l00098"></a>00098 <span class="keyword">    </span>{
<a name="l00099"></a>00099         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a82ba17fe63ebba68cd8949c198bb086d" title="All chains on board.">m_allChains</a>[color];
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101 <span class="comment"></span>
<a name="l00102"></a>00102 <span class="comment">    /** All GoRegion&#39;s of given color */</span>
<a name="l00103"></a><a class="code" href="classGoRegionBoard.html#a886e5b1ac7d8f788d2d34499f278ee73">00103</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoRegion&gt;</a>&amp; <a class="code" href="classGoRegionBoard.html#a886e5b1ac7d8f788d2d34499f278ee73" title="All GoRegion&amp;#39;s of given color.">AllRegions</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)
<a name="l00104"></a>00104     {
<a name="l00105"></a>00105         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a4f56ee426a54ecbf8923a1ba8f051ce2" title="All regions on board.">m_allRegions</a>[color];
<a name="l00106"></a>00106     }
<a name="l00107"></a>00107 <span class="comment"></span>
<a name="l00108"></a>00108 <span class="comment">    /** All GoRegion&#39;s of given color */</span>
<a name="l00109"></a><a class="code" href="classGoRegionBoard.html#af8ce75f8e4862bec8af0629f0c8faff2">00109</a>     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoRegion&gt;</a>&amp; <a class="code" href="classGoRegionBoard.html#a886e5b1ac7d8f788d2d34499f278ee73" title="All GoRegion&amp;#39;s of given color.">AllRegions</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)<span class="keyword"> const</span>
<a name="l00110"></a>00110 <span class="keyword">    </span>{
<a name="l00111"></a>00111         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a4f56ee426a54ecbf8923a1ba8f051ce2" title="All regions on board.">m_allRegions</a>[color];
<a name="l00112"></a>00112     }
<a name="l00113"></a>00113 <span class="comment"></span>
<a name="l00114"></a>00114 <span class="comment">    /** See GoBoard::All */</span>
<a name="l00115"></a><a class="code" href="classGoRegionBoard.html#ae37cb98266946088fc89c8f757d6f639">00115</a>     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; <a class="code" href="classGoRegionBoard.html#ae37cb98266946088fc89c8f757d6f639" title="See GoBoard::All.">All</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)<span class="keyword"> const</span>
<a name="l00116"></a>00116 <span class="keyword">    </span>{
<a name="l00117"></a>00117         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoBoard.html#adcedf5dc31a73a965e00e96a088097a0">All</a>(color);
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 <span class="comment"></span>
<a name="l00120"></a>00120 <span class="comment">    /** See GoBoard::AllEmpty */</span>
<a name="l00121"></a><a class="code" href="classGoRegionBoard.html#a80c038d8891f815ef005037163798688">00121</a>     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; <a class="code" href="classGoRegionBoard.html#a80c038d8891f815ef005037163798688" title="See GoBoard::AllEmpty.">AllEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoBoard.html#ae5ba22fe6a5824c02c15fcabab6bbf22">AllEmpty</a>();}
<a name="l00122"></a>00122 <span class="comment"></span>
<a name="l00123"></a>00123 <span class="comment">    /** See GoBoard::AllPoints */</span>
<a name="l00124"></a><a class="code" href="classGoRegionBoard.html#a9c04fc9154cf968e240c80e4b1ff04b1">00124</a>     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; <a class="code" href="classGoRegionBoard.html#a9c04fc9154cf968e240c80e4b1ff04b1" title="See GoBoard::AllPoints.">AllPoints</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoBoard.html#aa981fe78112971c43a3a5b81698601b7">AllPoints</a>();}
<a name="l00125"></a>00125 <span class="comment"></span>
<a name="l00126"></a>00126 <span class="comment">    /** See GoBoard::IsColor */</span>
<a name="l00127"></a><a class="code" href="classGoRegionBoard.html#ae1d8b7293f013ff4a5765f9f3b3acc4c">00127</a>     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#ae1d8b7293f013ff4a5765f9f3b3acc4c" title="See GoBoard::IsColor.">IsColor</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p, <span class="keywordtype">int</span> c)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoBoard.html#a1d4d7a363de12249748cae5d19bf4121">IsColor</a>(p, c);}
<a name="l00128"></a>00128 <span class="comment"></span>
<a name="l00129"></a>00129 <span class="comment">    /** write information on all GoBlock&#39;s */</span>
<a name="l00130"></a>00130     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a23b7df2e5ef59633c23c5a3c78214187" title="write information on all GoBlock&amp;#39;s">WriteBlocks</a>(std::ostream&amp; stream) <span class="keyword">const</span>;
<a name="l00131"></a>00131 <span class="comment"></span>
<a name="l00132"></a>00132 <span class="comment">    /** write information on all GoRegion&#39;s */</span>
<a name="l00133"></a>00133     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a7a494b1f0b80c66a6bb10a73b6941403" title="write information on all GoRegion&amp;#39;s">WriteRegions</a>(std::ostream&amp; stream) <span class="keyword">const</span>;
<a name="l00134"></a>00134 <span class="comment"></span>
<a name="l00135"></a>00135 <span class="comment">    /** generate all blocks and regions */</span>
<a name="l00136"></a>00136     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ac8434dcd11e0c52f4516c0efc995db79" title="generate all blocks and regions">GenBlocksRegions</a>();
<a name="l00137"></a>00137 <span class="comment"></span>
<a name="l00138"></a>00138 <span class="comment">    /** Compute all GoChain&#39;s</span>
<a name="l00139"></a>00139 <span class="comment">        @todo currently this only creates 1 chain for each block.</span>
<a name="l00140"></a>00140 <span class="comment">        The merging is only done in GoSafetySolver::GenBlocksRegions()</span>
<a name="l00141"></a>00141 <span class="comment">        and must be moved here. */</span>
<a name="l00142"></a>00142     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#af5723bf2ae2f48e68fd87c347027647f" title="Compute all GoChain&amp;#39;s.">GenChains</a>();
<a name="l00143"></a>00143 <span class="comment"></span>
<a name="l00144"></a>00144 <span class="comment">    /** Clear all flags etc. to recompute regions and blocks */</span>
<a name="l00145"></a>00145     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ae8fae7ad2482c49d12683666b2ea585b" title="Clear all flags etc.">ReInitializeBlocksRegions</a>();
<a name="l00146"></a>00146 <span class="comment"></span>
<a name="l00147"></a>00147 <span class="comment">    /** mark all regions that the given attribute has been computed */</span>
<a name="l00148"></a>00148     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ace1fd4160ce77089963e7f8e82f133f3" title="mark all regions that the given attribute has been computed">SetComputedFlagForAll</a>(<a class="code" href="GoRegion_8h.html#a4be562e454f2f30b1c0a6c72ae088f55" title="Information computed about a GoRegion.">GoRegionFlag</a> flag);
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">00150</a>     <span class="keyword">const</span> <a class="code" href="classGoBoard.html" title="Go board.">GoBoard</a>&amp; <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>()<span class="keyword"> const</span>
<a name="l00151"></a>00151 <span class="keyword">    </span>{
<a name="l00152"></a>00152         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#a7d2850530ca04167e929a62f6dd3857c">m_board</a>;
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154 <span class="comment"></span>
<a name="l00155"></a>00155 <span class="comment">    /** Searches the list of all blocks for the block.</span>
<a name="l00156"></a>00156 <span class="comment">        Boundary must belong to a single block. */</span>
<a name="l00157"></a>00157     <a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* <a class="code" href="classGoRegionBoard.html#a4b5e2497660ad7fe94930fa8b613f910" title="Searches the list of all blocks for the block.">GetBlock</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; boundary,
<a name="l00158"></a>00158                          <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color) <span class="keyword">const</span>;
<a name="l00159"></a>00159 <span class="comment"></span>
<a name="l00160"></a>00160 <span class="comment">    /** For incremental update, region where stone was just played */</span>
<a name="l00161"></a><a class="code" href="classGoRegionBoard.html#a7a2410fe58087be033ff3d7616c9919d">00161</a>     <a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* <a class="code" href="classGoRegionBoard.html#a7a2410fe58087be033ff3d7616c9919d" title="For incremental update, region where stone was just played.">PreviousRegionAt</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)<span class="keyword"> const</span>
<a name="l00162"></a>00162 <span class="keyword">    </span>{
<a name="l00163"></a>00163         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().Occupied(p));
<a name="l00164"></a>00164         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<a class="code" href="classGoRegionBoard.html#ac0d3e4af421550d0cf9d41de8a026584" title="pointer to region, defined only at anchor of region">m_region</a>[color][p] != 0);
<a name="l00165"></a>00165         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#ac0d3e4af421550d0cf9d41de8a026584" title="pointer to region, defined only at anchor of region">m_region</a>[color][p];
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 <span class="comment"></span>
<a name="l00168"></a>00168 <span class="comment">    /** Region of color at point p */</span>
<a name="l00169"></a><a class="code" href="classGoRegionBoard.html#a6fc9e28f914e3fcbdb0cbbd393aadba8">00169</a>     <a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* <a class="code" href="classGoRegionBoard.html#a6fc9e28f914e3fcbdb0cbbd393aadba8" title="Region of color at point p.">RegionAt</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color)<span class="keyword"> const</span>
<a name="l00170"></a>00170 <span class="keyword">    </span>{
<a name="l00171"></a>00171         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<a class="code" href="classGoRegionBoard.html#aa179c24006e1433e4ab9b7faadb1ad3f" title="Have blocks and regions been computed for current board position?">UpToDate</a>());
<a name="l00172"></a>00172         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(! <a class="code" href="classGoRegionBoard.html#ab14b7874cca06ee4f82887b600b7e5a7">Board</a>().<a class="code" href="classGoRegionBoard.html#ae1d8b7293f013ff4a5765f9f3b3acc4c" title="See GoBoard::IsColor.">IsColor</a>(p, color));
<a name="l00173"></a>00173         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<a class="code" href="classGoRegionBoard.html#ac0d3e4af421550d0cf9d41de8a026584" title="pointer to region, defined only at anchor of region">m_region</a>[color][p] != 0);
<a name="l00174"></a>00174         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#ac0d3e4af421550d0cf9d41de8a026584" title="pointer to region, defined only at anchor of region">m_region</a>[color][p];
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 <span class="comment"></span>
<a name="l00177"></a>00177 <span class="comment">    /** Region of color in area */</span>
<a name="l00178"></a>00178     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a58ff13bb319f84c0d598d05808504661" title="Region of color in area.">RegionsAt</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; area, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color,
<a name="l00179"></a>00179                             <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoRegion&gt;</a>* regions) <span class="keyword">const</span>;
<a name="l00180"></a>00180 <span class="comment"></span>
<a name="l00181"></a>00181 <span class="comment">    /** Region of color adjacent to points */</span>
<a name="l00182"></a>00182     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a3200557d7c4ca5123e0f1b5d13444393" title="Region of color adjacent to points.">AdjacentRegions</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVector.html">SgVector&lt;SgPoint&gt;</a>&amp; points, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color,
<a name="l00183"></a>00183                             <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoRegion&gt;</a>* regions) <span class="keyword">const</span>;
<a name="l00184"></a>00184 <span class="comment"></span>
<a name="l00185"></a>00185 <span class="comment">    /** Return GoBlock&#39;s just captured on last move, before update.</span>
<a name="l00186"></a>00186 <span class="comment">        For incremental update.</span>
<a name="l00187"></a>00187 <span class="comment">        Can be called for any empty point.</span>
<a name="l00188"></a>00188 <span class="comment">        returns 0 if no previous block there. */</span>
<a name="l00189"></a>00189     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a46405e9a423afb60010196b666a54cfb" title="Return GoBlock&amp;#39;s just captured on last move, before update.">PreviousBlocksAt</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVector.html">SgVector&lt;SgPoint&gt;</a>&amp; area, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color,
<a name="l00190"></a>00190                             <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoBlock&gt;</a>* captures) <span class="keyword">const</span>;
<a name="l00191"></a>00191 <span class="comment"></span>
<a name="l00192"></a>00192 <span class="comment">    /** GoBlock at point p*/</span>
<a name="l00193"></a><a class="code" href="classGoRegionBoard.html#a657b257844a5a449773f618c5cc4131d">00193</a>     <a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* <a class="code" href="classGoRegionBoard.html#a657b257844a5a449773f618c5cc4131d" title="GoBlock at point p.">BlockAt</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p)<span class="keyword"> const</span>
<a name="l00194"></a>00194 <span class="keyword">    </span>{
<a name="l00195"></a>00195         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<a class="code" href="classGoRegionBoard.html#afef1759213d273fb769bbb29e14ece18" title="pointer from stone to block, 0 if empty point">m_block</a>[p] != 0);
<a name="l00196"></a>00196         <span class="keywordflow">return</span> <a class="code" href="classGoRegionBoard.html#afef1759213d273fb769bbb29e14ece18" title="pointer from stone to block, 0 if empty point">m_block</a>[p];
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198 <span class="comment"></span>
<a name="l00199"></a>00199 <span class="comment">    /** GoChain at point p*/</span>
<a name="l00200"></a>00200     <a class="code" href="classGoChain.html" title="Set of GoBlock&amp;#39;s that are a connected unit.">GoChain</a>* <a class="code" href="classGoRegionBoard.html#ab013d775cee513bab2b29e48a90d4ad0" title="GoChain at point p.">ChainAt</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p) <span class="keyword">const</span>;
<a name="l00201"></a>00201 <span class="comment"></span>
<a name="l00202"></a>00202 <span class="comment">    /** Is block at point p marked as safe?*/</span>
<a name="l00203"></a>00203     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#adbd42a7b05711c9ccd54b7043bd44154" title="Is block at point p marked as safe?">IsSafeBlock</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p) <span class="keyword">const</span>;
<a name="l00204"></a>00204 <span class="comment"></span>
<a name="l00205"></a>00205 <span class="comment">    /** Set safe flag for block at p*/</span>
<a name="l00206"></a>00206     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#add82ca3ab524dbaeaffacecfd57fdb62" title="Set safe flag for block at p.">SetToSafe</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p) <span class="keyword">const</span>;
<a name="l00207"></a>00207 <span class="comment"></span>
<a name="l00208"></a>00208 <span class="comment">    /** Set safe flags for all blocks in safe*/</span>
<a name="l00209"></a>00209     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a2394c4ba7499bef5d9457d964ca1a5b6" title="Set safe flags for all blocks in safe.">SetSafeFlags</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgBWSet.html">SgBWSet</a>&amp; safe);
<a name="l00210"></a>00210 <span class="comment"></span>
<a name="l00211"></a>00211 <span class="comment">    /** Set m_computedHealthy flag to true */</span>
<a name="l00212"></a>00212     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#aff46741f48c34792dae3bea4067343fa" title="Set m_computedHealthy flag to true.">SetComputedHealthy</a>();
<a name="l00213"></a>00213     <span class="comment"></span>
<a name="l00214"></a>00214 <span class="comment">    /** class initialization */</span>
<a name="l00215"></a>00215     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#a0d58fbb7d69f94e5c9e15d9913da5b6a" title="class initialization">Init</a>();
<a name="l00216"></a>00216 <span class="comment"></span>
<a name="l00217"></a>00217 <span class="comment">    /** class finalization */</span>
<a name="l00218"></a>00218     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a41ff283b56cad557d5640a563ae704d3" title="class finalization">Fini</a>();
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="keyword">private</span>:
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     <span class="comment">// Compute from scratch helpers</span><span class="comment"></span>
<a name="l00223"></a>00223 <span class="comment">    /** Generate blocks */</span>
<a name="l00224"></a>00224     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a089ea1b548e915940f92f43f6b1a5bee" title="Generate blocks.">GenBlocks</a>();
<a name="l00225"></a>00225 <span class="comment"></span>
<a name="l00226"></a>00226 <span class="comment">    /** Set the m_has1Eye flag for all blocks with 1 eye */</span>
<a name="l00227"></a>00227     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#afb09269aa3affe7e57cf9a54122a2180" title="Set the m_has1Eye flag for all blocks with 1 eye.">FindBlocksWithEye</a>();
<a name="l00228"></a>00228 
<a name="l00229"></a>00229     <span class="comment">// Execute move helpers</span><span class="comment"></span>
<a name="l00230"></a>00230 <span class="comment">    /** Generate the block with given anchor */</span>
<a name="l00231"></a>00231     <a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* <a class="code" href="classGoRegionBoard.html#aad1fdb2eca849ba9b6088f4c59ca9608" title="Generate the block with given anchor.">GenBlock</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> anchor, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color);
<a name="l00232"></a>00232 <span class="comment"></span>
<a name="l00233"></a>00233 <span class="comment">    /** Generate a region of color in area */</span>
<a name="l00234"></a>00234     <a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* <a class="code" href="classGoRegionBoard.html#a00b41d8f63edced2197344e0be5d8f91" title="Generate a region of color in area.">GenRegion</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; area, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color);
<a name="l00235"></a>00235 <span class="comment"></span>
<a name="l00236"></a>00236 <span class="comment">    /** incremental update of block after move */</span>
<a name="l00237"></a>00237     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a1fe8e5cd4e26fdf309465e4053eb1e02" title="incremental update of block after move">UpdateBlock</a>(<span class="keywordtype">int</span> move, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> moveColor);
<a name="l00238"></a>00238 <span class="comment"></span>
<a name="l00239"></a>00239 <span class="comment">    /** Sets m_region elements to point to r */</span>
<a name="l00240"></a>00240     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a5fa02633a022e2c846a86da059d0564a" title="Sets m_region elements to point to r.">SetRegionArrays</a>(<a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* r);
<a name="l00241"></a>00241 <span class="comment"></span>
<a name="l00242"></a>00242 <span class="comment">    /** add block to GoRegionBoard */</span>
<a name="l00243"></a>00243     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a31d38050a0e3239fd880581a96d288d7" title="add block to GoRegionBoard">AddBlock</a>(<a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* b, <span class="keywordtype">bool</span> isExecute = <span class="keyword">true</span>);
<a name="l00244"></a>00244 <span class="comment"></span>
<a name="l00245"></a>00245 <span class="comment">    /** remove block from GoRegionBoard */</span>
<a name="l00246"></a>00246     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a8da2a2d4f3f7a8142b50c7104b7e29fc" title="remove block from GoRegionBoard">RemoveBlock</a>(<a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* b, <span class="keywordtype">bool</span> isExecute, <span class="keywordtype">bool</span> removeFromRegions);
<a name="l00247"></a>00247 <span class="comment"></span>
<a name="l00248"></a>00248 <span class="comment">    /** add region to GoRegionBoard */</span>
<a name="l00249"></a>00249     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#aa0edc098ed9bdff7ef0323c2f3526933" title="add region to GoRegionBoard">AddRegion</a>(<a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* r, <span class="keywordtype">bool</span> isExecute = <span class="keyword">true</span>);
<a name="l00250"></a>00250 <span class="comment"></span>
<a name="l00251"></a>00251 <span class="comment">    /** remove region from GoRegionBoard */</span>
<a name="l00252"></a>00252     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a656a4346dabe9101d4ec7386e0b4bdda" title="remove region from GoRegionBoard">RemoveRegion</a>(<a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* r, <span class="keywordtype">bool</span> isExecute = <span class="keyword">true</span>);
<a name="l00253"></a>00253 <span class="comment"></span>
<a name="l00254"></a>00254 <span class="comment">    /** For all captured stones: merge its adjacent previous regions into one.</span>
<a name="l00255"></a>00255 <span class="comment">        then for all captured stones: add their area to its single adjacent</span>
<a name="l00256"></a>00256 <span class="comment">        region. */</span>
<a name="l00257"></a>00257     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a29ae20f01ef1062d6f0fbafc861ad91e" title="For all captured stones: merge its adjacent previous regions into one.">MergeAdjacentAndAddBlock</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> move, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> capturedColor);
<a name="l00258"></a>00258 <span class="comment"></span>
<a name="l00259"></a>00259 <span class="comment">    /** Merge all regions and the captured area into new large region */</span>
<a name="l00260"></a>00260     <a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* <a class="code" href="classGoRegionBoard.html#a408e0e12407b9d849a7ddacf43c55489" title="Merge all regions and the captured area into new large region.">MergeAll</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgVectorOf.html">SgVectorOf&lt;GoRegion&gt;</a>&amp; regions,
<a name="l00261"></a>00261                       <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a>&amp; captured, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> color);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263     <span class="comment">// Undo move helpers</span><span class="comment"></span>
<a name="l00264"></a>00264 <span class="comment">    /** stores incremental state changes for execute/undo moves */</span>
<a name="l00265"></a><a class="code" href="classGoRegionBoard.html#ac9344be569b8c50e2650b2137831e36d">00265</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgIncrementalStack.html">SgIncrementalStack</a> <a class="code" href="classGoRegionBoard.html#ac9344be569b8c50e2650b2137831e36d" title="stores incremental state changes for execute/undo moves">m_stack</a>;
<a name="l00266"></a>00266 <span class="comment"></span>
<a name="l00267"></a>00267 <span class="comment">    /** push on m_stack */</span>
<a name="l00268"></a>00268     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a893304c49af4f1cf6163d89a1426fc52" title="push on m_stack">PushRegion</a>(<span class="keywordtype">int</span> type, <a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* r);
<a name="l00269"></a>00269 <span class="comment"></span>
<a name="l00270"></a>00270 <span class="comment">    /** push on m_stack */</span>
<a name="l00271"></a>00271     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#a13c4fe0391d2aa483458def055adc162" title="push on m_stack">PushStone</a>(<a class="code" href="classGoRegion.html" title="GoRegion represents a region surrounded by blocks of one color.">GoRegion</a>* r, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> move);
<a name="l00272"></a>00272 <span class="comment"></span>
<a name="l00273"></a>00273 <span class="comment">    /** push on m_stack */</span>
<a name="l00274"></a>00274     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ad7caee0ef21ceaae27295e8abbbb53f8" title="push on m_stack">PushBlock</a>(<span class="keywordtype">int</span> type, <a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* b);
<a name="l00275"></a>00275 <span class="comment"></span>
<a name="l00276"></a>00276 <span class="comment">    /** add stome to b and push information on m_stack */</span>
<a name="l00277"></a>00277     <span class="keywordtype">void</span> <a class="code" href="classGoRegionBoard.html#ad3a64efd031ae34e62ec58074b415fb3" title="add stome to b and push information on m_stack">AppendStone</a>(<a class="code" href="classGoBlock.html" title="A block augmented by a list of its healthy regions.">GoBlock</a>* b, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> move);
<a name="l00278"></a>00278 
<a name="l00279"></a>00279     <span class="comment">// data members</span>
<a name="l00280"></a>00280 
<a name="l00281"></a><a class="code" href="classGoRegionBoard.html#a7d2850530ca04167e929a62f6dd3857c">00281</a>     <span class="keyword">const</span> <a class="code" href="classGoBoard.html" title="Go board.">GoBoard</a>&amp; <a class="code" href="classGoRegionBoard.html#a7d2850530ca04167e929a62f6dd3857c">m_board</a>;
<a name="l00282"></a>00282 <span class="comment"></span>
<a name="l00283"></a>00283 <span class="comment">    /** pointer to region, defined only at anchor of region */</span>
<a name="l00284"></a><a class="code" href="classGoRegionBoard.html#ac0d3e4af421550d0cf9d41de8a026584">00284</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgBWArray.html">SgBWArray&lt;SgPointArray&lt;GoRegion*&gt;</a> &gt; <a class="code" href="classGoRegionBoard.html#ac0d3e4af421550d0cf9d41de8a026584" title="pointer to region, defined only at anchor of region">m_region</a>;
<a name="l00285"></a>00285 <span class="comment"></span>
<a name="l00286"></a>00286 <span class="comment">    /** pointer from stone to block, 0 if empty point */</span>
<a name="l00287"></a><a class="code" href="classGoRegionBoard.html#afef1759213d273fb769bbb29e14ece18">00287</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointArray.html">SgPointArray&lt;GoBlock*&gt;</a> <a class="code" href="classGoRegionBoard.html#afef1759213d273fb769bbb29e14ece18" title="pointer from stone to block, 0 if empty point">m_block</a>;
<a name="l00288"></a>00288 <span class="comment"></span>
<a name="l00289"></a>00289 <span class="comment">    /** All blocks on board */</span>
<a name="l00290"></a><a class="code" href="classGoRegionBoard.html#a34fa37292eb0272c6af3dca68eacb6bb">00290</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgBWArray.html">SgBWArray&lt;SgVectorOf&lt;GoBlock&gt;</a> &gt; <a class="code" href="classGoRegionBoard.html#a34fa37292eb0272c6af3dca68eacb6bb" title="All blocks on board.">m_allBlocks</a>;
<a name="l00291"></a>00291 <span class="comment"></span>
<a name="l00292"></a>00292 <span class="comment">    /** All chains on board */</span>
<a name="l00293"></a><a class="code" href="classGoRegionBoard.html#a82ba17fe63ebba68cd8949c198bb086d">00293</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgBWArray.html">SgBWArray&lt;SgVectorOf&lt;GoChain&gt;</a> &gt; <a class="code" href="classGoRegionBoard.html#a82ba17fe63ebba68cd8949c198bb086d" title="All chains on board.">m_allChains</a>;
<a name="l00294"></a>00294 <span class="comment"></span>
<a name="l00295"></a>00295 <span class="comment">    /** All regions on board */</span>
<a name="l00296"></a><a class="code" href="classGoRegionBoard.html#a4f56ee426a54ecbf8923a1ba8f051ce2">00296</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgBWArray.html">SgBWArray&lt;SgVectorOf&lt;GoRegion&gt;</a> &gt; <a class="code" href="classGoRegionBoard.html#a4f56ee426a54ecbf8923a1ba8f051ce2" title="All regions on board.">m_allRegions</a>;
<a name="l00297"></a>00297 <span class="comment"></span>
<a name="l00298"></a>00298 <span class="comment">    /** Code for last time block and region information was computed */</span>
<a name="l00299"></a><a class="code" href="classGoRegionBoard.html#a4b0cfbfe9eb0c8ec26ae5952d0d53452">00299</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgHash.html">SgHashCode</a> <a class="code" href="classGoRegionBoard.html#a4b0cfbfe9eb0c8ec26ae5952d0d53452" title="Code for last time block and region information was computed.">m_code</a>;
<a name="l00300"></a>00300 <span class="comment"></span>
<a name="l00301"></a>00301 <span class="comment">    /** Code for last time chain information was computed */</span>
<a name="l00302"></a><a class="code" href="classGoRegionBoard.html#aab80fccf81b60392d39877a8f12d899a">00302</a>     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgHash.html">SgHashCode</a> <a class="code" href="classGoRegionBoard.html#aab80fccf81b60392d39877a8f12d899a" title="Code for last time chain information was computed.">m_chainsCode</a>;
<a name="l00303"></a>00303 <span class="comment"></span>
<a name="l00304"></a>00304 <span class="comment">    /** does block and region data match current board? */</span>
<a name="l00305"></a><a class="code" href="classGoRegionBoard.html#af1c55a2ad07d4ea4f4ab15238ebce8e6">00305</a>     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#af1c55a2ad07d4ea4f4ab15238ebce8e6" title="does block and region data match current board?">m_invalid</a>;
<a name="l00306"></a>00306     <span class="comment"></span>
<a name="l00307"></a>00307 <span class="comment">    /** has healthy count been computed for all blocks?</span>
<a name="l00308"></a>00308 <span class="comment">        @todo in fully incremental mode, this should be determined locally</span>
<a name="l00309"></a>00309 <span class="comment">        for each block, not globally. */</span>
<a name="l00310"></a><a class="code" href="classGoRegionBoard.html#a193bbaa185a15ee30cfe99c6f6d18702">00310</a>     <span class="keywordtype">bool</span> <a class="code" href="classGoRegionBoard.html#a193bbaa185a15ee30cfe99c6f6d18702" title="has healthy count been computed for all blocks?">m_computedHealthy</a>;
<a name="l00311"></a>00311     <span class="comment"></span>
<a name="l00312"></a>00312 <span class="comment">    /** Boardsize is needed to avoid problems with resizing an empty board */</span>
<a name="l00313"></a><a class="code" href="classGoRegionBoard.html#acc7d9a259f877c86ca882d4c2532106d">00313</a>     <span class="keywordtype">int</span> <a class="code" href="classGoRegionBoard.html#acc7d9a259f877c86ca882d4c2532106d" title="Boardsize is needed to avoid problems with resizing an empty board.">m_boardSize</a>;
<a name="l00314"></a>00314 <span class="comment"></span>
<a name="l00315"></a>00315 <span class="comment">    /** debugging bookkeeping. @todo do it in debug only */</span>
<a name="l00316"></a><a class="code" href="classGoRegionBoard.html#a0ce67da31a652d004350835c79643d54">00316</a>     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classGoRegionBoard.html#a83f8cfb74276e3c58cde2ec65a387cab" title="debugging bookkeeping.">s_alloc</a>, <a class="code" href="classGoRegionBoard.html#a0ce67da31a652d004350835c79643d54">s_free</a>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 };
<a name="l00319"></a>00319 
<a name="l00320"></a>00320 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 <span class="preprocessor">#endif // GO_REGIONBOARD_H</span>
</pre></div></div>
</div>
<p>
<hr>
<div style="text-align:right;">
Sun Mar 13 2011 <a href="http://www.doxygen.org/">Doxygen</a> 1.7.1
</div>
</p>
</body>

<!-- Mirrored from fuego.sourceforge.net/fuego-doc-1.1/go-doc/GoRegionBoard_8h_source.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 25 Apr 2012 18:02:24 GMT -->
</html>
