<html>

<!-- Mirrored from fuego.sourceforge.net/fuego-doc-1.1/gouct-doc/GoUctCommands_8cpp_source.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 25 Apr 2012 18:02:59 GMT -->
<head>
<title>GoUct Library: GoUctCommands.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<div class="qindex">
<a class="qindex" href="../main.html">Index</a> &nbsp;
<a class="qindex" href="index.html">Main</a> &nbsp;
<a class="qindex" href="namespaces.html">Namespaces</a> &nbsp;
<a class="qindex" href="classes.html">Classes</a> &nbsp;
<a class="qindex" href="hierarchy.html">Hierarchy</a> &nbsp;
<a class="qindex" href="annotated.html">Annotated</a> &nbsp;
<a class="qindex" href="files.html">Files</a> &nbsp;
<!--
<a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp;>
-->
<a class="qindex" href="functions.html">Compound</a> &nbsp;
<a class="qindex" href="globals.html">Global</a> &nbsp;
<a class="qindex" href="pages.html">Pages</a> &nbsp;
</div>
<!-- Generated by Doxygen 1.7.1 -->
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_464b6bcc88ca6131eae185e186ba0d4c.html">gouct</a>      </li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>GoUctCommands.cpp</h1>  </div>
</div>
<div class="contents">
<a href="GoUctCommands_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//----------------------------------------------------------------------------</span><span class="comment"></span>
<a name="l00002"></a>00002 <span class="comment">/** @file GoUctCommands.cpp */</span>
<a name="l00003"></a>00003 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html">SgSystem.h</a>&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;<a class="code" href="GoUctCommands_8h.html">GoUctCommands.h</a>&quot;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;boost/format.hpp&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/GoEyeUtil_8h.html">GoEyeUtil.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/GoGtpCommandUtil_8h.html">GoGtpCommandUtil.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/GoBoardUtil_8h.html">GoBoardUtil.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/GoSafetySolver_8h.html">GoSafetySolver.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="GoUctDefaultPriorKnowledge_8h.html">GoUctDefaultPriorKnowledge.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="GoUctDefaultRootFilter_8h.html">GoUctDefaultRootFilter.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="GoUctEstimatorStat_8h.html" title="Utility classes to gather statistics for estimators (like RAVE) used in SgUctSearch.">GoUctEstimatorStat.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="GoUctGlobalSearch_8h.html">GoUctGlobalSearch.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="GoUctPatterns_8h.html">GoUctPatterns.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="GoUctPlayer_8h.html" title="Class GoUctPlayer.">GoUctPlayer.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="GoUctPlayoutPolicy_8h.html">GoUctPlayoutPolicy.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="GoUctUtil_8h.html">GoUctUtil.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/GoUtil_8h.html">GoUtil.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgException_8h.html">SgException.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPointSetUtil_8h.html">SgPointSetUtil.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgRestorer_8h.html">SgRestorer.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctTreeUtil_8h.html">SgUctTreeUtil.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgWrite_8h.html">SgWrite.h</a>&quot;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="keyword">using namespace </span>std;
<a name="l00030"></a>00030 <span class="keyword">using</span> boost::format;
<a name="l00031"></a>00031 <span class="keyword">using</span> GoGtpCommandUtil::BlackWhiteArg;
<a name="l00032"></a>00032 <span class="keyword">using</span> GoGtpCommandUtil::EmptyPointArg;
<a name="l00033"></a>00033 <span class="keyword">using</span> GoGtpCommandUtil::PointArg;
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">typedef</span> <a class="code" href="classGoUctPlayer.html" title="Player using UCT.">GoUctPlayer&lt;GoUctGlobalSearch&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>,
<a name="l00036"></a>00036                                       <a class="code" href="classGoUctPlayoutPolicyFactory.html">GoUctPlayoutPolicyFactory&lt;GoUctBoard&gt;</a> &gt;,
<a name="l00037"></a>00037                     <a class="code" href="classGoUctGlobalSearchState.html" title="Global UCT-Search for Go.">GoUctGlobalSearchState&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a> &gt; &gt;
<a name="l00038"></a><a class="code" href="GoUctCommands_8cpp.html#a97a1f37f9bb1e34e7a6302cddc6d0dad">00038</a>                     <a class="code" href="classGoUctPlayer.html" title="Player using UCT.">GoUctPlayerType</a>;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">namespace </span>{
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <a class="code" href="GoUctSearch_8h.html#aa3cec61c4a01e5e5b04e1e0f2d9a5685" title="Live-gfx mode used in GoUctSearch.">GoUctLiveGfx</a> LiveGfxArg(<span class="keyword">const</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd, <span class="keywordtype">size_t</span> number)
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047     <span class="keywordtype">string</span> arg = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a94bea6276e8c2db6b07b8b6a1e88c9bb">ArgToLower</a>(number);
<a name="l00048"></a>00048     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;none&quot;</span>)
<a name="l00049"></a>00049         <span class="keywordflow">return</span> GOUCT_LIVEGFX_NONE;
<a name="l00050"></a>00050     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;counts&quot;</span>)
<a name="l00051"></a>00051         <span class="keywordflow">return</span> GOUCT_LIVEGFX_COUNTS;
<a name="l00052"></a>00052     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;sequence&quot;</span>)
<a name="l00053"></a>00053         <span class="keywordflow">return</span> GOUCT_LIVEGFX_SEQUENCE;
<a name="l00054"></a>00054     <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown live-gfx argument \&quot;&quot;</span> &lt;&lt; arg &lt;&lt; <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="keywordtype">string</span> LiveGfxToString(<a class="code" href="GoUctSearch_8h.html#aa3cec61c4a01e5e5b04e1e0f2d9a5685" title="Live-gfx mode used in GoUctSearch.">GoUctLiveGfx</a> mode)
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059     <span class="keywordflow">switch</span> (mode)
<a name="l00060"></a>00060     {
<a name="l00061"></a>00061     <span class="keywordflow">case</span> <a class="code" href="GoUctSearch_8h.html#aa3cec61c4a01e5e5b04e1e0f2d9a5685a6861f2ab04679eca72f081573b34aaff" title="Don&amp;#39;t print live-gfx information.">GOUCT_LIVEGFX_NONE</a>:
<a name="l00062"></a>00062         <span class="keywordflow">return</span> <span class="stringliteral">&quot;none&quot;</span>;
<a name="l00063"></a>00063     <span class="keywordflow">case</span> <a class="code" href="GoUctSearch_8h.html#aa3cec61c4a01e5e5b04e1e0f2d9a5685a3db8a496a615b86b29f4c470e4876d59" title="Print values and counts as in GoUctUtil::GoGuiGfx().">GOUCT_LIVEGFX_COUNTS</a>:
<a name="l00064"></a>00064         <span class="keywordflow">return</span> <span class="stringliteral">&quot;counts&quot;</span>;
<a name="l00065"></a>00065     <span class="keywordflow">case</span> <a class="code" href="GoUctSearch_8h.html#aa3cec61c4a01e5e5b04e1e0f2d9a5685ad5d69eb64fb3e9f7b30ddf5b7e5a1976" title="Show GoGui live graphics with the main variation.">GOUCT_LIVEGFX_SEQUENCE</a>:
<a name="l00066"></a>00066         <span class="keywordflow">return</span> <span class="stringliteral">&quot;sequence&quot;</span>;
<a name="l00067"></a>00067     <span class="keywordflow">default</span>:
<a name="l00068"></a>00068         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<span class="keyword">false</span>);
<a name="l00069"></a>00069         <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;
<a name="l00070"></a>00070     }
<a name="l00071"></a>00071 }
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#ga4e36bd865bd69cffd0ab5ac07ff4d7f6">SgUctMoveSelect</a> MoveSelectArg(<span class="keyword">const</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd, <span class="keywordtype">size_t</span> number)
<a name="l00074"></a>00074 {
<a name="l00075"></a>00075     <span class="keywordtype">string</span> arg = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a94bea6276e8c2db6b07b8b6a1e88c9bb">ArgToLower</a>(number);
<a name="l00076"></a>00076     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;value&quot;</span>)
<a name="l00077"></a>00077         <span class="keywordflow">return</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6a7c3503ced614807bad5690695a7ebbc0">SG_UCTMOVESELECT_VALUE</a>;
<a name="l00078"></a>00078     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;count&quot;</span>)
<a name="l00079"></a>00079         <span class="keywordflow">return</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6ad3c9cbe6285fd624a2ff6b0e1b4f500c">SG_UCTMOVESELECT_COUNT</a>;
<a name="l00080"></a>00080     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;bound&quot;</span>)
<a name="l00081"></a>00081         <span class="keywordflow">return</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6a7a30bbbe3ccfc68d84d73cd17add2b07">SG_UCTMOVESELECT_BOUND</a>;
<a name="l00082"></a>00082     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;estimate&quot;</span>)
<a name="l00083"></a>00083         <span class="keywordflow">return</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6a76a35456dd6af278c674d573bb3e7952">SG_UCTMOVESELECT_ESTIMATE</a>;
<a name="l00084"></a>00084     <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown move select argument \&quot;&quot;</span> &lt;&lt; arg &lt;&lt; <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00085"></a>00085 }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="keywordtype">string</span> MoveSelectToString(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#ga4e36bd865bd69cffd0ab5ac07ff4d7f6">SgUctMoveSelect</a> moveSelect)
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089     <span class="keywordflow">switch</span> (moveSelect)
<a name="l00090"></a>00090     {
<a name="l00091"></a>00091     <span class="keywordflow">case</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6a7c3503ced614807bad5690695a7ebbc0">SG_UCTMOVESELECT_VALUE</a>:
<a name="l00092"></a>00092         <span class="keywordflow">return</span> <span class="stringliteral">&quot;value&quot;</span>;
<a name="l00093"></a>00093     <span class="keywordflow">case</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6ad3c9cbe6285fd624a2ff6b0e1b4f500c">SG_UCTMOVESELECT_COUNT</a>:
<a name="l00094"></a>00094         <span class="keywordflow">return</span> <span class="stringliteral">&quot;count&quot;</span>;
<a name="l00095"></a>00095     <span class="keywordflow">case</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6a7a30bbbe3ccfc68d84d73cd17add2b07">SG_UCTMOVESELECT_BOUND</a>:
<a name="l00096"></a>00096         <span class="keywordflow">return</span> <span class="stringliteral">&quot;bound&quot;</span>;
<a name="l00097"></a>00097     <span class="keywordflow">case</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/group__sguctgroup.html#gga4e36bd865bd69cffd0ab5ac07ff4d7f6a76a35456dd6af278c674d573bb3e7952">SG_UCTMOVESELECT_ESTIMATE</a>:
<a name="l00098"></a>00098         <span class="keywordflow">return</span> <span class="stringliteral">&quot;estimate&quot;</span>;
<a name="l00099"></a>00099     <span class="keywordflow">default</span>:
<a name="l00100"></a>00100         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<span class="keyword">false</span>);
<a name="l00101"></a>00101         <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;
<a name="l00102"></a>00102     }
<a name="l00103"></a>00103 }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <a class="code" href="GoUctPlayer_8h.html#ab40ba60195149df429ba04ede5e18def" title="What search mode to use in GoUctPlayer to select a move.">GoUctGlobalSearchMode</a> SearchModeArg(<span class="keyword">const</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd, <span class="keywordtype">size_t</span> number)
<a name="l00106"></a>00106 {
<a name="l00107"></a>00107     <span class="keywordtype">string</span> arg = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a94bea6276e8c2db6b07b8b6a1e88c9bb">ArgToLower</a>(number);
<a name="l00108"></a>00108     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;playout_policy&quot;</span>)
<a name="l00109"></a>00109         <span class="keywordflow">return</span> GOUCT_SEARCHMODE_PLAYOUTPOLICY;
<a name="l00110"></a>00110     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;uct&quot;</span>)
<a name="l00111"></a>00111         <span class="keywordflow">return</span> GOUCT_SEARCHMODE_UCT;
<a name="l00112"></a>00112     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;one_ply&quot;</span>)
<a name="l00113"></a>00113         <span class="keywordflow">return</span> GOUCT_SEARCHMODE_ONEPLY;
<a name="l00114"></a>00114     <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown search mode argument \&quot;&quot;</span> &lt;&lt; arg &lt;&lt; <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="keywordtype">string</span> SearchModeToString(<a class="code" href="GoUctPlayer_8h.html#ab40ba60195149df429ba04ede5e18def" title="What search mode to use in GoUctPlayer to select a move.">GoUctGlobalSearchMode</a> mode)
<a name="l00118"></a>00118 {
<a name="l00119"></a>00119     <span class="keywordflow">switch</span> (mode)
<a name="l00120"></a>00120     {
<a name="l00121"></a>00121     <span class="keywordflow">case</span> <a class="code" href="GoUctPlayer_8h.html#ab40ba60195149df429ba04ede5e18defa873a4b00ec2b32fcdf32536d2cdda745" title="No search, use playout policy to select a move.">GOUCT_SEARCHMODE_PLAYOUTPOLICY</a>:
<a name="l00122"></a>00122         <span class="keywordflow">return</span> <span class="stringliteral">&quot;playout_policy&quot;</span>;
<a name="l00123"></a>00123     <span class="keywordflow">case</span> <a class="code" href="GoUctPlayer_8h.html#ab40ba60195149df429ba04ede5e18defadcb7e6c99e78657704132e08ab0699f9" title="Use UCT search.">GOUCT_SEARCHMODE_UCT</a>:
<a name="l00124"></a>00124         <span class="keywordflow">return</span> <span class="stringliteral">&quot;uct&quot;</span>;
<a name="l00125"></a>00125     <span class="keywordflow">case</span> <a class="code" href="GoUctPlayer_8h.html#ab40ba60195149df429ba04ede5e18defac137ffd5c7d282cecc0a77bf164a1309" title="Do a 1-ply MC search.">GOUCT_SEARCHMODE_ONEPLY</a>:
<a name="l00126"></a>00126         <span class="keywordflow">return</span> <span class="stringliteral">&quot;one_ply&quot;</span>;
<a name="l00127"></a>00127     <span class="keywordflow">default</span>:
<a name="l00128"></a>00128         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgSystem_8h.html#a558b618265a6c7bf8eed5bd947f3a64f">SG_ASSERT</a>(<span class="keyword">false</span>);
<a name="l00129"></a>00129         <span class="keywordflow">return</span> <span class="stringliteral">&quot;?&quot;</span>;
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 }
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="keywordtype">string</span> KnowledgeThresholdToString(<span class="keyword">const</span> std::vector&lt;SgUctValue&gt;&amp; t)
<a name="l00134"></a>00134 {
<a name="l00135"></a>00135     <span class="keywordflow">if</span> (t.empty())
<a name="l00136"></a>00136         <span class="keywordflow">return</span> <span class="stringliteral">&quot;0&quot;</span>;
<a name="l00137"></a>00137     std::ostringstream os;
<a name="l00138"></a>00138     os &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;
<a name="l00139"></a>00139     <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; t.size(); ++i)
<a name="l00140"></a>00140     {
<a name="l00141"></a>00141         <span class="keywordflow">if</span> (i &gt; 0) 
<a name="l00142"></a>00142             os &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00143"></a>00143         os &lt;&lt; t[i];
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145     os &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;
<a name="l00146"></a>00146     <span class="keywordflow">return</span> os.str();
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 std::vector&lt;SgUctValue&gt; KnowledgeThresholdFromString(<span class="keyword">const</span> std::string&amp; val)
<a name="l00150"></a>00150 {
<a name="l00151"></a>00151     std::vector&lt;SgUctValue&gt; v;
<a name="l00152"></a>00152     std::istringstream is(val);
<a name="l00153"></a>00153     std::size_t t;
<a name="l00154"></a>00154     <span class="keywordflow">while</span> (is &gt;&gt; t)
<a name="l00155"></a>00155         v.push_back(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>(t));
<a name="l00156"></a>00156     <span class="keywordflow">if</span> (v.size() == 1 &amp;&amp; v[0] == 0)
<a name="l00157"></a>00157         v.clear();
<a name="l00158"></a>00158     <span class="keywordflow">return</span> v;
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 } <span class="comment">// namespace</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="comment">//----------------------------------------------------------------------------</span>
<a name="l00164"></a>00164 
<a name="l00165"></a><a class="code" href="classGoUctCommands.html#aa5213cd8b7f1b65452f869e8b59ea2f4">00165</a> <a class="code" href="classGoUctCommands.html#aa5213cd8b7f1b65452f869e8b59ea2f4" title="Constructor.">GoUctCommands::GoUctCommands</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html">GoBoard</a>&amp; bd, <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoPlayer.html">GoPlayer</a>*&amp; player)
<a name="l00166"></a>00166     : m_bd(bd),
<a name="l00167"></a>00167       m_player(player)
<a name="l00168"></a>00168 {
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="classGoUctCommands.html#aa2484bbced2f13e28524212b428839c4">00171</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#aa2484bbced2f13e28524212b428839c4">GoUctCommands::AddGoGuiAnalyzeCommands</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00172"></a>00172 {
<a name="l00173"></a>00173     cmd &lt;&lt;
<a name="l00174"></a>00174         <span class="stringliteral">&quot;gfx/Uct Bounds/uct_bounds\n&quot;</span>
<a name="l00175"></a>00175         <span class="stringliteral">&quot;plist/Uct Default Policy/uct_default_policy\n&quot;</span>
<a name="l00176"></a>00176         <span class="stringliteral">&quot;gfx/Uct Gfx/uct_gfx\n&quot;</span>
<a name="l00177"></a>00177         <span class="stringliteral">&quot;none/Uct Max Memory/uct_max_memory %s\n&quot;</span>
<a name="l00178"></a>00178         <span class="stringliteral">&quot;plist/Uct Moves/uct_moves\n&quot;</span>
<a name="l00179"></a>00179         <span class="stringliteral">&quot;param/Uct Param GlobalSearch/uct_param_globalsearch\n&quot;</span>
<a name="l00180"></a>00180         <span class="stringliteral">&quot;param/Uct Param Policy/uct_param_policy\n&quot;</span>
<a name="l00181"></a>00181         <span class="stringliteral">&quot;param/Uct Param Player/uct_param_player\n&quot;</span>
<a name="l00182"></a>00182         <span class="stringliteral">&quot;param/Uct Param RootFilter/uct_param_rootfilter\n&quot;</span>
<a name="l00183"></a>00183         <span class="stringliteral">&quot;param/Uct Param Search/uct_param_search\n&quot;</span>
<a name="l00184"></a>00184         <span class="stringliteral">&quot;plist/Uct Patterns/uct_patterns\n&quot;</span>
<a name="l00185"></a>00185         <span class="stringliteral">&quot;pstring/Uct Policy Moves/uct_policy_moves\n&quot;</span>
<a name="l00186"></a>00186         <span class="stringliteral">&quot;gfx/Uct Prior Knowledge/uct_prior_knowledge\n&quot;</span>
<a name="l00187"></a>00187         <span class="stringliteral">&quot;sboard/Uct Rave Values/uct_rave_values\n&quot;</span>
<a name="l00188"></a>00188         <span class="stringliteral">&quot;plist/Uct Root Filter/uct_root_filter\n&quot;</span>
<a name="l00189"></a>00189         <span class="stringliteral">&quot;none/Uct SaveGames/uct_savegames %w\n&quot;</span>
<a name="l00190"></a>00190         <span class="stringliteral">&quot;none/Uct SaveTree/uct_savetree %w\n&quot;</span>
<a name="l00191"></a>00191         <span class="stringliteral">&quot;gfx/Uct Sequence/uct_sequence\n&quot;</span>
<a name="l00192"></a>00192         <span class="stringliteral">&quot;hstring/Uct Stat Player/uct_stat_player\n&quot;</span>
<a name="l00193"></a>00193         <span class="stringliteral">&quot;none/Uct Stat Player Clear/uct_stat_player_clear\n&quot;</span>
<a name="l00194"></a>00194         <span class="stringliteral">&quot;hstring/Uct Stat Policy/uct_stat_policy\n&quot;</span>
<a name="l00195"></a>00195         <span class="stringliteral">&quot;none/Uct Stat Policy Clear/uct_stat_policy_clear\n&quot;</span>
<a name="l00196"></a>00196         <span class="stringliteral">&quot;hstring/Uct Stat Search/uct_stat_search\n&quot;</span>
<a name="l00197"></a>00197         <span class="stringliteral">&quot;dboard/Uct Stat Territory/uct_stat_territory\n&quot;</span>;
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 <span class="comment"></span>
<a name="l00200"></a>00200 <span class="comment">/** Show UCT bounds of moves in root node.</span>
<a name="l00201"></a>00201 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;gfx&quot;.</span>
<a name="l00202"></a>00202 <span class="comment">    Move bounds are shown as labels on the board, the pass move bound is</span>
<a name="l00203"></a>00203 <span class="comment">    shown as text in the status line.</span>
<a name="l00204"></a>00204 <span class="comment">    @see SgUctSearch::GetBound */</span>
<a name="l00205"></a><a class="code" href="classGoUctCommands.html#aa0759a160c757f799f0edab9541ea696">00205</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#aa0759a160c757f799f0edab9541ea696" title="Show UCT bounds of moves in root node.">GoUctCommands::CmdBounds</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00208"></a>00208     <span class="keyword">const</span> <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; search = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>();
<a name="l00209"></a>00209     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTree.html">SgUctTree</a>&amp; tree = search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a543e3447ba3885494014e5bdf99c1673">Tree</a>();
<a name="l00210"></a>00210     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html">SgUctNode</a>&amp; root = tree.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTree.html#a565f36ba3215a96b5074b94065bd24a4">Root</a>();
<a name="l00211"></a>00211     <span class="keywordtype">bool</span> hasPass = <span class="keyword">false</span>;
<a name="l00212"></a>00212     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> passBound = 0;
<a name="l00213"></a>00213     cmd &lt;&lt; <span class="stringliteral">&quot;LABEL&quot;</span>;
<a name="l00214"></a>00214     <span class="keywordflow">for</span> (<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctChildIterator.html">SgUctChildIterator</a> it(tree, root); it; ++it)
<a name="l00215"></a>00215     {
<a name="l00216"></a>00216         <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html">SgUctNode</a>&amp; child = *it;
<a name="l00217"></a>00217         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> move = child.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html#acf9d0e8a1888bdab3120c7422a3d98f3">Move</a>();
<a name="l00218"></a>00218         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> bound = search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#aeb290398b1942d50d3c4bdd8e15560ef">GetBound</a>(search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ab0f17bdb0a8355dffc1cdaeea1e463dd">Rave</a>(), root, child);
<a name="l00219"></a>00219         <span class="keywordflow">if</span> (move == <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a91bceaeaed14cc1ac24bec79532430e7">SG_PASS</a>)
<a name="l00220"></a>00220         {
<a name="l00221"></a>00221             hasPass = <span class="keyword">true</span>;
<a name="l00222"></a>00222             passBound = bound;
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224         <span class="keywordflow">else</span>
<a name="l00225"></a>00225             cmd &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(move) &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; fixed
<a name="l00226"></a>00226                 &lt;&lt; setprecision(2) &lt;&lt; bound;
<a name="l00227"></a>00227     }
<a name="l00228"></a>00228     cmd &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00229"></a>00229     <span class="keywordflow">if</span> (hasPass)
<a name="l00230"></a>00230         cmd &lt;&lt; <span class="stringliteral">&quot;TEXT PASS=&quot;</span> &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; passBound &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="classGoUctCommands.html#a748eb8b41fa63bc38799b0501dd10266">00234</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a748eb8b41fa63bc38799b0501dd10266">GoUctCommands::CmdDefaultPolicy</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00237"></a>00237     <a class="code" href="classGoUctDefaultPriorKnowledge.html" title="Default prior knowledge heuristic.">GoUctDefaultPriorKnowledge</a> knowledge(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>, <a class="code" href="classGoUctPlayoutPolicyParam.html" title="Parameters for GoUctPlayoutPolicy.">GoUctPlayoutPolicyParam</a>());
<a name="l00238"></a>00238     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a> pattern;
<a name="l00239"></a>00239     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a> atari;
<a name="l00240"></a>00240     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgArrayList.html">GoPointList</a> empty;
<a name="l00241"></a>00241     knowledge.<a class="code" href="classGoUctDefaultPriorKnowledge.html#ac824069690b8d254e8cd12cc3802b8c0" title="Find global moves that match a playout pattern or set a block into atari.">FindGlobalPatternAndAtariMoves</a>(pattern, atari, empty);
<a name="l00242"></a>00242     cmd &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgWritePointSet.html">SgWritePointSet</a>(atari, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 <span class="comment"></span>
<a name="l00245"></a>00245 <span class="comment">/** Compute estimator statistics.</span>
<a name="l00246"></a>00246 <span class="comment">    Arguments: trueValueMaxGames maxGames stepSize fileName</span>
<a name="l00247"></a>00247 <span class="comment">    @see GoUctEstimatorStat::Compute() */</span>
<a name="l00248"></a><a class="code" href="classGoUctCommands.html#a23dda44c36033afb4ea98db207cb1ea8">00248</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a23dda44c36033afb4ea98db207cb1ea8" title="Compute estimator statistics.">GoUctCommands::CmdEstimatorStat</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00249"></a>00249 {
<a name="l00250"></a>00250     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a2704ff356ea774b18cd6f687c37f68a0">CheckNuArg</a>(4);
<a name="l00251"></a>00251     <span class="keywordtype">size_t</span> trueValueMaxGames = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">size_t</span>&gt;(0);
<a name="l00252"></a>00252     <span class="keywordtype">size_t</span> maxGames = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">size_t</span>&gt;(1);
<a name="l00253"></a>00253     <span class="keywordtype">size_t</span> stepSize = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">size_t</span>&gt;(2);
<a name="l00254"></a>00254     <span class="keywordtype">string</span> fileName = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(3);
<a name="l00255"></a>00255     <a class="code" href="namespaceGoUctEstimatorStat.html#afd0096488774ed2055891bb48ca0cec5" title="Get statistics for estimators.">GoUctEstimatorStat::Compute</a>(<a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>(), trueValueMaxGames, maxGames,
<a name="l00256"></a>00256                                 stepSize, fileName);
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 <span class="comment"></span>
<a name="l00259"></a>00259 <span class="comment">/** Return final score.</span>
<a name="l00260"></a>00260 <span class="comment">    Does a small search and uses the territory statistics to determine the</span>
<a name="l00261"></a>00261 <span class="comment">    status of blocks. */</span>
<a name="l00262"></a><a class="code" href="classGoUctCommands.html#aaa200930b02f9aa9f69daa41742e42c0">00262</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#aaa200930b02f9aa9f69daa41742e42c0" title="Return final score.">GoUctCommands::CmdFinalScore</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00263"></a>00263 {
<a name="l00264"></a>00264     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00265"></a>00265     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a> deadStones = <a class="code" href="classGoUctCommands.html#a34a99ae626b7057995e8cde2f15c64f6" title="Do a small search with territory statistics enabled to determine what blocks are dead for the final_s...">DoFinalStatusSearch</a>();
<a name="l00266"></a>00266     <span class="keywordtype">float</span> score;
<a name="l00267"></a>00267     <span class="keywordflow">if</span> (! <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/namespaceGoBoardUtil.html#a27095ef41cdf26c6ea294b60106510f9">GoBoardUtil::ScorePosition</a>(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>, deadStones, score))
<a name="l00268"></a>00268         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;cannot score&quot;</span>);
<a name="l00269"></a>00269     cmd &lt;&lt; <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/namespaceGoUtil.html#a81400678e56c98e86ca495592f9228e8">GoUtil::ScoreToString</a>(score);
<a name="l00270"></a>00270 }
<a name="l00271"></a>00271 <span class="comment"></span>
<a name="l00272"></a>00272 <span class="comment">/** Return final status of stones.</span>
<a name="l00273"></a>00273 <span class="comment">    Does a small search and uses the territory statistics to determine the</span>
<a name="l00274"></a>00274 <span class="comment">    status of blocks. The engine cannot detect seki, so according to the</span>
<a name="l00275"></a>00275 <span class="comment">    GTP standard, all stones that are not dead are reported as alive, the</span>
<a name="l00276"></a>00276 <span class="comment">    response to seki is an empty list. &lt;br&gt;</span>
<a name="l00277"></a>00277 <span class="comment">    Arguments: alive|seki|dead */</span>
<a name="l00278"></a><a class="code" href="classGoUctCommands.html#aad3d1fe345f1fcc0b31bc8c45c5ef92c">00278</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#aad3d1fe345f1fcc0b31bc8c45c5ef92c" title="Return final status of stones.">GoUctCommands::CmdFinalStatusList</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00279"></a>00279 {
<a name="l00280"></a>00280     <span class="keywordtype">string</span> arg = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>();
<a name="l00281"></a>00281     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;seki&quot;</span>)
<a name="l00282"></a>00282         <span class="keywordflow">return</span>;
<a name="l00283"></a>00283     <span class="keywordtype">bool</span> getDead;
<a name="l00284"></a>00284     <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;alive&quot;</span>)
<a name="l00285"></a>00285         getDead = <span class="keyword">false</span>;
<a name="l00286"></a>00286     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arg == <span class="stringliteral">&quot;dead&quot;</span>)
<a name="l00287"></a>00287         getDead = <span class="keyword">true</span>;
<a name="l00288"></a>00288     <span class="keywordflow">else</span>
<a name="l00289"></a>00289         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;invalid final status argument&quot;</span>);
<a name="l00290"></a>00290     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a> deadPoints = <a class="code" href="classGoUctCommands.html#a34a99ae626b7057995e8cde2f15c64f6" title="Do a small search with territory statistics enabled to determine what blocks are dead for the final_s...">DoFinalStatusSearch</a>();
<a name="l00291"></a>00291     <span class="comment">// According to GTP standard the response should be one string(=block)</span>
<a name="l00292"></a>00292     <span class="comment">// per line</span>
<a name="l00293"></a>00293     <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBlockIterator.html">GoBlockIterator</a> it(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>); it; ++it)
<a name="l00294"></a>00294     {
<a name="l00295"></a>00295         <span class="keywordflow">if</span> ((getDead &amp;&amp; deadPoints.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html#a1a0ac77417c7cb82fb26d849a3f2fdf0">Contains</a>(*it))
<a name="l00296"></a>00296             || (! getDead &amp;&amp; ! deadPoints.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html#a1a0ac77417c7cb82fb26d849a3f2fdf0">Contains</a>(*it)))
<a name="l00297"></a>00297         {
<a name="l00298"></a>00298             <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard_1_1StoneIterator.html">GoBoard::StoneIterator</a> it2(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>, *it); it2; ++it2)
<a name="l00299"></a>00299                 cmd &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(*it2) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00300"></a>00300                 cmd &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00301"></a>00301         }
<a name="l00302"></a>00302     }
<a name="l00303"></a>00303 }
<a name="l00304"></a>00304 <span class="comment"></span>
<a name="l00305"></a>00305 <span class="comment">/** Show move values and sample numbers of last search.</span>
<a name="l00306"></a>00306 <span class="comment">    Arguments: none</span>
<a name="l00307"></a>00307 <span class="comment">    @see GoUctSearch::GoGuiGfx() */</span>
<a name="l00308"></a><a class="code" href="classGoUctCommands.html#a85b7bbb2c1f4e749ba1bafb5f202015e">00308</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a85b7bbb2c1f4e749ba1bafb5f202015e" title="Show move values and sample numbers of last search.">GoUctCommands::CmdGfx</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00309"></a>00309 {
<a name="l00310"></a>00310     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00311"></a>00311     <span class="keyword">const</span> <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; s = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>();
<a name="l00312"></a>00312     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> toPlay = s.<a class="code" href="classGoUctSearch.html#a026cc8a52b583305dd930c7d5933ce51" title="Color to play at the root node of the last search.">ToPlay</a>();
<a name="l00313"></a>00313     <a class="code" href="namespaceGoUctUtil.html#a8a8e9881c7ae7e8f374cfc8ffbf509ee" title="Print information about search as Gfx commands for GoGui.">GoUctUtil::GfxBestMove</a>(s, toPlay, cmd);
<a name="l00314"></a>00314     <a class="code" href="namespaceGoUctUtil.html#a6f13c9d1f3ebd44965269bb63392de69" title="Print the move values as Gfx commands for GoGui.">GoUctUtil::GfxMoveValues</a>(s, toPlay, cmd);
<a name="l00315"></a>00315     <a class="code" href="namespaceGoUctUtil.html#a3b65618fc958e21f2a28d152cfe6b371" title="Print move counts as Gfx commands for GoGui.">GoUctUtil::GfxCounts</a>(s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a543e3447ba3885494014e5bdf99c1673">Tree</a>(), cmd);
<a name="l00316"></a>00316     <a class="code" href="namespaceGoUctUtil.html#ab638e294fbdd31fd4612424ac60234e5" title="Print information about search as GoGui Gfx commands for text in the status line.">GoUctUtil::GfxStatus</a>(s, cmd);
<a name="l00317"></a>00317 }
<a name="l00318"></a>00318 <span class="comment"></span>
<a name="l00319"></a>00319 <span class="comment">/** Computes the maximum number of nodes in search tree given the</span>
<a name="l00320"></a>00320 <span class="comment">    maximum allowed memory for the tree. Assumes two trees. Returns</span>
<a name="l00321"></a>00321 <span class="comment">    current memory usage if no arguments.</span>
<a name="l00322"></a>00322 <span class="comment">    Arguments: max memory for trees */</span>
<a name="l00323"></a><a class="code" href="classGoUctCommands.html#a75b230365aaf5853868328bf1c99c6ed">00323</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a75b230365aaf5853868328bf1c99c6ed" title="Computes the maximum number of nodes in search tree given the maximum allowed memory for the tree...">GoUctCommands::CmdMaxMemory</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00324"></a>00324 {
<a name="l00325"></a>00325     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(1);
<a name="l00326"></a>00326     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 0)
<a name="l00327"></a>00327         cmd &lt;&lt; <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ae82f0197035d7c4a173725b1ddc4bcb1">MaxNodes</a>() * 2 * <span class="keyword">sizeof</span>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html">SgUctNode</a>);
<a name="l00328"></a>00328     <span class="keywordflow">else</span>
<a name="l00329"></a>00329     {
<a name="l00330"></a>00330         std::size_t memory = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">size_t</span>&gt;(0, 2 * <span class="keyword">sizeof</span>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html">SgUctNode</a>));
<a name="l00331"></a>00331         <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ae947738e3b77568b1c59d730874cabc2">SetMaxNodes</a>(memory / 2 / <span class="keyword">sizeof</span>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html">SgUctNode</a>));
<a name="l00332"></a>00332     }
<a name="l00333"></a>00333 }
<a name="l00334"></a>00334 <span class="comment"></span>
<a name="l00335"></a>00335 <span class="comment">/** Return a list of all moves that the search would generate in the current</span>
<a name="l00336"></a>00336 <span class="comment">    position.</span>
<a name="l00337"></a>00337 <span class="comment">    Arguments: none</span>
<a name="l00338"></a>00338 <span class="comment">    @see SgUctSearch::GenerateAllMoves() */</span>
<a name="l00339"></a><a class="code" href="classGoUctCommands.html#a34a7645188a7f5b1a4b6bf863e7fff11">00339</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a34a7645188a7f5b1a4b6bf863e7fff11" title="Return a list of all moves that the search would generate in the current position.">GoUctCommands::CmdMoves</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00340"></a>00340 {
<a name="l00341"></a>00341     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00342"></a>00342     vector&lt;SgUctMoveInfo&gt; moves;
<a name="l00343"></a>00343     <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ac6fb153bb58b1efd4e0e70573de3f90e">GenerateAllMoves</a>(moves);
<a name="l00344"></a>00344     <span class="keywordflow">for</span> (std::size_t i = 0; i &lt; moves.size(); ++i)
<a name="l00345"></a>00345         cmd &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(moves[i].m_move) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00346"></a>00346     cmd &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00347"></a>00347 }
<a name="l00348"></a>00348 <span class="comment"></span>
<a name="l00349"></a>00349 <span class="comment">/** Get and set GoUctGlobalSearch parameters.</span>
<a name="l00350"></a>00350 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;param&quot;.</span>
<a name="l00351"></a>00351 <span class="comment"></span>
<a name="l00352"></a>00352 <span class="comment">    Parameters:</span>
<a name="l00353"></a>00353 <span class="comment">    @arg @c live_gfx See GoUctGlobalSearch::GlobalSearchLiveGfx</span>
<a name="l00354"></a>00354 <span class="comment">    @arg @c mercy_rule See GoUctGlobalSearchStateParam::m_mercyRule</span>
<a name="l00355"></a>00355 <span class="comment">    @arg @c territory_statistics See</span>
<a name="l00356"></a>00356 <span class="comment">        GoUctGlobalSearchStateParam::m_territoryStatistics</span>
<a name="l00357"></a>00357 <span class="comment">    @arg @c length_modification See</span>
<a name="l00358"></a>00358 <span class="comment">        GoUctGlobalSearchStateParam::m_langthModification</span>
<a name="l00359"></a>00359 <span class="comment">    @arg @c score_modification See</span>
<a name="l00360"></a>00360 <span class="comment">        GoUctGlobalSearchStateParam::m_scoreModification */</span>
<a name="l00361"></a><a class="code" href="classGoUctCommands.html#a35ea6d6c885c911d0b506222e9ec058d">00361</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a35ea6d6c885c911d0b506222e9ec058d" title="Get and set GoUctGlobalSearch parameters.">GoUctCommands::CmdParamGlobalSearch</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00362"></a>00362 {
<a name="l00363"></a>00363     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(2);
<a name="l00364"></a>00364     <a class="code" href="classGoUctGlobalSearch.html" title="Full board Monte-Carlo tree search.">GoUctGlobalSearch&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>,
<a name="l00365"></a>00365                       <a class="code" href="classGoUctPlayoutPolicyFactory.html">GoUctPlayoutPolicyFactory&lt;GoUctBoard&gt;</a> &gt;&amp;
<a name="l00366"></a>00366            s = <a class="code" href="classGoUctCommands.html#a58db116e111bae4da3dcaa6ba204dd7b">GlobalSearch</a>();
<a name="l00367"></a>00367     <a class="code" href="structGoUctGlobalSearchStateParam.html" title="Parameters for GoUctGlobalSearchState.">GoUctGlobalSearchStateParam</a>&amp; p = s.<a class="code" href="classGoUctGlobalSearch.html#ac988275d4b7218da788ec40bc00c7fa6">m_param</a>;
<a name="l00368"></a>00368     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 0)
<a name="l00369"></a>00369     {
<a name="l00370"></a>00370         <span class="comment">// Boolean parameters first for better layout of GoGui parameter</span>
<a name="l00371"></a>00371         <span class="comment">// dialog, alphabetically otherwise</span>
<a name="l00372"></a>00372         cmd &lt;&lt; <span class="stringliteral">&quot;[bool] live_gfx &quot;</span> &lt;&lt; s.<a class="code" href="classGoUctGlobalSearch.html#a00dff4be52844650c9a7e32253e4e67c" title="Output live graphics commands for GoGui.">GlobalSearchLiveGfx</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00373"></a>00373             &lt;&lt; <span class="stringliteral">&quot;[bool] mercy_rule &quot;</span> &lt;&lt; p.<a class="code" href="structGoUctGlobalSearchStateParam.html#a84c4b60a358b215ef03c7bb610e0db25" title="Use the mercy rule.">m_mercyRule</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00374"></a>00374             &lt;&lt; <span class="stringliteral">&quot;[bool] territory_statistics &quot;</span> &lt;&lt; p.<a class="code" href="structGoUctGlobalSearchStateParam.html#ac561ccfb7d9ee0426e58b63b8f36546c" title="Compute probabilities of territory in terminal positions.">m_territoryStatistics</a>
<a name="l00375"></a>00375             &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00376"></a>00376             &lt;&lt; <span class="stringliteral">&quot;[string] length_modification &quot;</span> &lt;&lt; p.<a class="code" href="structGoUctGlobalSearchStateParam.html#a7d3a0b1e04165e7493f1d9a309781386" title="Modify game result by the length of the simulation.">m_lengthModification</a>
<a name="l00377"></a>00377             &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00378"></a>00378             &lt;&lt; <span class="stringliteral">&quot;[string] score_modification &quot;</span> &lt;&lt; p.<a class="code" href="structGoUctGlobalSearchStateParam.html#a3d47f26178b987238996ada75399ba5d" title="Modify game result by score.">m_scoreModification</a>
<a name="l00379"></a>00379             &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00380"></a>00380     }
<a name="l00381"></a>00381     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 2)
<a name="l00382"></a>00382     {
<a name="l00383"></a>00383         <span class="keywordtype">string</span> name = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(0);
<a name="l00384"></a>00384         <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;live_gfx&quot;</span>)
<a name="l00385"></a>00385             s.<a class="code" href="classGoUctGlobalSearch.html#af989f8bf17e3cc4f368760c751ce935d" title="See GlobalSearchLiveGfx().">SetGlobalSearchLiveGfx</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00386"></a>00386         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;mercy_rule&quot;</span>)
<a name="l00387"></a>00387             p.<a class="code" href="structGoUctGlobalSearchStateParam.html#a84c4b60a358b215ef03c7bb610e0db25" title="Use the mercy rule.">m_mercyRule</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1);
<a name="l00388"></a>00388         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;territory_statistics&quot;</span>)
<a name="l00389"></a>00389             p.<a class="code" href="structGoUctGlobalSearchStateParam.html#ac561ccfb7d9ee0426e58b63b8f36546c" title="Compute probabilities of territory in terminal positions.">m_territoryStatistics</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1);
<a name="l00390"></a>00390         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;length_modification&quot;</span>)
<a name="l00391"></a>00391             p.<a class="code" href="structGoUctGlobalSearchStateParam.html#a7d3a0b1e04165e7493f1d9a309781386" title="Modify game result by the length of the simulation.">m_lengthModification</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1);
<a name="l00392"></a>00392         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;score_modification&quot;</span>)
<a name="l00393"></a>00393             p.<a class="code" href="structGoUctGlobalSearchStateParam.html#a3d47f26178b987238996ada75399ba5d" title="Modify game result by score.">m_scoreModification</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1);
<a name="l00394"></a>00394         <span class="keywordflow">else</span>
<a name="l00395"></a>00395             <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown parameter: &quot;</span> &lt;&lt; name;
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397     <span class="keywordflow">else</span>
<a name="l00398"></a>00398         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;need 0 or 2 arguments&quot;</span>;
<a name="l00399"></a>00399 }
<a name="l00400"></a>00400 <span class="comment"></span>
<a name="l00401"></a>00401 <span class="comment">/** Get and set GoUctPlayer parameters.</span>
<a name="l00402"></a>00402 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;param&quot;.</span>
<a name="l00403"></a>00403 <span class="comment"></span>
<a name="l00404"></a>00404 <span class="comment">    Parameters:</span>
<a name="l00405"></a>00405 <span class="comment">    @arg @c auto_param See GoUctPlayer::AutoParam</span>
<a name="l00406"></a>00406 <span class="comment">    @arg @c early_pass See GoUctPlayer::EarlyPass</span>
<a name="l00407"></a>00407 <span class="comment">    @arg @c forced_opening_moves See GoUctPlayer::ForcedOpeningMoves</span>
<a name="l00408"></a>00408 <span class="comment">    @arg @c ignore_clock See GoUctPlayer::IgnoreClock</span>
<a name="l00409"></a>00409 <span class="comment">    @arg @c ponder See GoUctPlayer::EnablePonder</span>
<a name="l00410"></a>00410 <span class="comment">    @arg @c reuse_subtree See GoUctPlayer::ReuseSubtree</span>
<a name="l00411"></a>00411 <span class="comment">    @arg @c use_root_filter See GoUctPlayer::UseRootFilter</span>
<a name="l00412"></a>00412 <span class="comment">    @arg @c max_games See GoUctPlayer::MaxGames</span>
<a name="l00413"></a>00413 <span class="comment">    @arg @c max_ponder_time See GoUctPlayer::MaxPonderTime</span>
<a name="l00414"></a>00414 <span class="comment">    @arg @c resign_min_games See GoUctPlayer::ResignMinGames</span>
<a name="l00415"></a>00415 <span class="comment">    @arg @c resign_threshold See GoUctPlayer::ResignThreshold</span>
<a name="l00416"></a>00416 <span class="comment">    @arg @c search_mode @c playout|uct|one_ply See GoUctPlayer::SearchMode */</span>
<a name="l00417"></a><a class="code" href="classGoUctCommands.html#a1f0fda09fe13c3b0e61c2cce2fc98144">00417</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a1f0fda09fe13c3b0e61c2cce2fc98144" title="Get and set GoUctPlayer parameters.">GoUctCommands::CmdParamPlayer</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00418"></a>00418 {
<a name="l00419"></a>00419     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(2);
<a name="l00420"></a>00420     <a class="code" href="classGoUctPlayer.html" title="Player using UCT.">GoUctPlayerType</a>&amp; p = <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>();
<a name="l00421"></a>00421     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 0)
<a name="l00422"></a>00422     {
<a name="l00423"></a>00423         <span class="comment">// Boolean parameters first for better layout of GoGui parameter</span>
<a name="l00424"></a>00424         <span class="comment">// dialog, alphabetically otherwise</span>
<a name="l00425"></a>00425         cmd &lt;&lt; <span class="stringliteral">&quot;[bool] auto_param &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#af9ca7e1dcf99434bac45a32881359012" title="Automatically adapt the search parameters optimized for the current board size.">AutoParam</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00426"></a>00426             &lt;&lt; <span class="stringliteral">&quot;[bool] early_pass &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#a9275ef16f8ce920d61d38b88f15117d1" title="Pass early.">EarlyPass</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00427"></a>00427             &lt;&lt; <span class="stringliteral">&quot;[bool] forced_opening_moves &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#aa6140dc4b2fb1f4c9be0cb3ff4e854b3" title="Enforce opening moves in the corner on large boards.">ForcedOpeningMoves</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00428"></a>00428             &lt;&lt; <span class="stringliteral">&quot;[bool] ignore_clock &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#afd20e7ddc8628793f95e8555ef1344a8" title="Ignore time settings of the game.">IgnoreClock</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00429"></a>00429             &lt;&lt; <span class="stringliteral">&quot;[bool] ponder &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#a7aa900dce8ed28234104667be836ee07" title="Think during the opponents time.">EnablePonder</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00430"></a>00430             &lt;&lt; <span class="stringliteral">&quot;[bool] reuse_subtree &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#ab8a2846845c5163f2565c8e8c9aedc57" title="Reuse subtree from last search.">ReuseSubtree</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00431"></a>00431             &lt;&lt; <span class="stringliteral">&quot;[bool] use_root_filter &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#ac57bd14685b61a06d4db12137515f3c8" title="Use the root filter.">UseRootFilter</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00432"></a>00432             &lt;&lt; <span class="stringliteral">&quot;[string] max_games &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#a94d35faa422617103bde8a2126985624" title="Limit on number of simulated games per move.">MaxGames</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00433"></a>00433             &lt;&lt; <span class="stringliteral">&quot;[string] max_ponder_time &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#aa3efa717c0840b04793db42e75916bf4" title="Maximum ponder time in seconds.">MaxPonderTime</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00434"></a>00434             &lt;&lt; <span class="stringliteral">&quot;[string] resign_min_games &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#a5676d660b48937f74b3a0d79b7ee4f52" title="Minimum number of simulations to check for resign.">ResignMinGames</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00435"></a>00435             &lt;&lt; <span class="stringliteral">&quot;[string] resign_threshold &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayer.html#a4c118a6a3af144b649233302852e97df" title="Threshold for position value to resign.">ResignThreshold</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00436"></a>00436             &lt;&lt; <span class="stringliteral">&quot;[list/playout_policy/uct/one_ply] search_mode &quot;</span>
<a name="l00437"></a>00437             &lt;&lt; SearchModeToString(p.<a class="code" href="classGoUctPlayer.html#ab389ebae5ba60f660f5b67f2a73157b2" title="See GoUctGlobalSearchMode.">SearchMode</a>()) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00438"></a>00438     }
<a name="l00439"></a>00439     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() &gt;= 1 &amp;&amp; cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() &lt;= 2)
<a name="l00440"></a>00440     {
<a name="l00441"></a>00441         <span class="keywordtype">string</span> name = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(0);
<a name="l00442"></a>00442         <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;auto_param&quot;</span>)
<a name="l00443"></a>00443             p.<a class="code" href="classGoUctPlayer.html#aa7b8afcfef87884ea75c2de0c68953c2" title="See AutoParam().">SetAutoParam</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00444"></a>00444         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;early_pass&quot;</span>)
<a name="l00445"></a>00445             p.<a class="code" href="classGoUctPlayer.html#af23e497780d0f783ab73675f9d798886" title="See EarlyPass().">SetEarlyPass</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00446"></a>00446         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;forced_opening_moves&quot;</span>)
<a name="l00447"></a>00447             p.<a class="code" href="classGoUctPlayer.html#a1207c6b9d627d61bbee7920687ab148f" title="See ForcedOpeningMoves().">SetForcedOpeningMoves</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00448"></a>00448         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;ignore_clock&quot;</span>)
<a name="l00449"></a>00449             p.<a class="code" href="classGoUctPlayer.html#a276f7574ded9b4bb8336f17b3abc2fd5" title="See IgnoreClock().">SetIgnoreClock</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00450"></a>00450         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;ponder&quot;</span>)
<a name="l00451"></a>00451             p.<a class="code" href="classGoUctPlayer.html#ac5d959fe961ce71f3500f6aaf284dee3" title="See EnablePonder().">SetEnablePonder</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00452"></a>00452         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;reuse_subtree&quot;</span>)
<a name="l00453"></a>00453             p.<a class="code" href="classGoUctPlayer.html#a1df24e5fd87124a0c90fdcd0f933ef9d" title="See ReuseSubtree().">SetReuseSubtree</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00454"></a>00454         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;use_root_filter&quot;</span>)
<a name="l00455"></a>00455             p.<a class="code" href="classGoUctPlayer.html#a1424f518cdcd4aae0b0dff9875819990" title="See UseRootFilter().">SetUseRootFilter</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00456"></a>00456         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;max_games&quot;</span>)
<a name="l00457"></a>00457             p.<a class="code" href="classGoUctPlayer.html#a19a6668a8c6c00f2a69df302ae003158" title="See MaxGames().">SetMaxGames</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>(1)));
<a name="l00458"></a>00458         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;max_ponder_time&quot;</span>)
<a name="l00459"></a>00459             p.<a class="code" href="classGoUctPlayer.html#aeeca61d4aeccea86f0f8134cc5ed01a6" title="See MaxPonderTime().">SetMaxPonderTime</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, 0));
<a name="l00460"></a>00460         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;resign_min_games&quot;</span>)
<a name="l00461"></a>00461             p.<a class="code" href="classGoUctPlayer.html#a00a994183e65d38e8f2b982d8479e481" title="See ResignMinGames().">SetResignMinGames</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>(0)));
<a name="l00462"></a>00462         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;resign_threshold&quot;</span>)
<a name="l00463"></a>00463             p.<a class="code" href="classGoUctPlayer.html#a3492fe466f5b72ae557e72745abb59ff" title="See ResignThreshold().">SetResignThreshold</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a1b83ae5e5aa1accd870b88a086bcd15d">ArgMinMax</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, 0, 1));
<a name="l00464"></a>00464         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;search_mode&quot;</span>)
<a name="l00465"></a>00465             p.<a class="code" href="classGoUctPlayer.html#abaa6fece7657fbfba25c68bbe7ac0ee7" title="See GoUctGlobalSearchMode.">SetSearchMode</a>(SearchModeArg(cmd, 1));
<a name="l00466"></a>00466         <span class="keywordflow">else</span>
<a name="l00467"></a>00467             <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown parameter: &quot;</span> &lt;&lt; name;
<a name="l00468"></a>00468     }
<a name="l00469"></a>00469     <span class="keywordflow">else</span>
<a name="l00470"></a>00470         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;need 0 or 2 arguments&quot;</span>;
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 <span class="comment"></span>
<a name="l00473"></a>00473 <span class="comment">/** Get and set GoUctPlayoutPolicy parameters.</span>
<a name="l00474"></a>00474 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;param&quot;.</span>
<a name="l00475"></a>00475 <span class="comment"></span>
<a name="l00476"></a>00476 <span class="comment">    Parameters:</span>
<a name="l00477"></a>00477 <span class="comment">    @arg @c statistics_enabled</span>
<a name="l00478"></a>00478 <span class="comment">        See GoUctPlayoutPolicyParam::m_statisticsEnabled</span>
<a name="l00479"></a>00479 <span class="comment">    @arg @c nakade_heuristic</span>
<a name="l00480"></a>00480 <span class="comment">        See GoUctPlayoutPolicyParam::m_useNakadeHeuristic</span>
<a name="l00481"></a>00481 <span class="comment">    @arg @c fillboard_tries</span>
<a name="l00482"></a>00482 <span class="comment">        See GoUctPlayoutPolicyParam::m_fillboardTries */</span>
<a name="l00483"></a><a class="code" href="classGoUctCommands.html#a1643b0dfa9c2c12d22dfbb5510e410d9">00483</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a1643b0dfa9c2c12d22dfbb5510e410d9" title="Get and set GoUctPlayoutPolicy parameters.">GoUctCommands::CmdParamPolicy</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00484"></a>00484 {
<a name="l00485"></a>00485     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(2);
<a name="l00486"></a>00486     <a class="code" href="classGoUctPlayoutPolicyParam.html" title="Parameters for GoUctPlayoutPolicy.">GoUctPlayoutPolicyParam</a>&amp; p = <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().m_playoutPolicyParam;
<a name="l00487"></a>00487     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 0)
<a name="l00488"></a>00488     {
<a name="l00489"></a>00489         <span class="comment">// Boolean parameters first for better layout of GoGui parameter</span>
<a name="l00490"></a>00490         <span class="comment">// dialog, alphabetically otherwise</span>
<a name="l00491"></a>00491         cmd &lt;&lt; <span class="stringliteral">&quot;[bool] nakade_heuristic &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayoutPolicyParam.html#a905592ed08764d0f389729347bbe3b83" title="Use Nakade heuristic.">m_useNakadeHeuristic</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00492"></a>00492             &lt;&lt; <span class="stringliteral">&quot;[bool] statistics_enabled &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayoutPolicyParam.html#a741ee0ad01d1ace9c9000fddec9ec529" title="Enable collection of statistics.">m_statisticsEnabled</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00493"></a>00493             &lt;&lt; <span class="stringliteral">&quot;fillboard_tries &quot;</span> &lt;&lt; p.<a class="code" href="classGoUctPlayoutPolicyParam.html#acdd4b5213a7e200d9067473e464c08e7" title="See GoUctPureRandomGenerator::GenerateFillboardMove.">m_fillboardTries</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00494"></a>00494     }
<a name="l00495"></a>00495     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 2)
<a name="l00496"></a>00496     {
<a name="l00497"></a>00497         <span class="keywordtype">string</span> name = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(0);
<a name="l00498"></a>00498         <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;nakade_heuristic&quot;</span>)
<a name="l00499"></a>00499             p.<a class="code" href="classGoUctPlayoutPolicyParam.html#a905592ed08764d0f389729347bbe3b83" title="Use Nakade heuristic.">m_useNakadeHeuristic</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1);
<a name="l00500"></a>00500         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;statistics_enabled&quot;</span>)
<a name="l00501"></a>00501             p.<a class="code" href="classGoUctPlayoutPolicyParam.html#a741ee0ad01d1ace9c9000fddec9ec529" title="Enable collection of statistics.">m_statisticsEnabled</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1);
<a name="l00502"></a>00502         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;fillboard_tries&quot;</span>)
<a name="l00503"></a>00503             p.<a class="code" href="classGoUctPlayoutPolicyParam.html#acdd4b5213a7e200d9067473e464c08e7" title="See GoUctPureRandomGenerator::GenerateFillboardMove.">m_fillboardTries</a> = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">int</span>&gt;(1);
<a name="l00504"></a>00504         <span class="keywordflow">else</span>
<a name="l00505"></a>00505             <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown parameter: &quot;</span> &lt;&lt; name;
<a name="l00506"></a>00506     }
<a name="l00507"></a>00507     <span class="keywordflow">else</span>
<a name="l00508"></a>00508         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;need 0 or 2 arguments&quot;</span>;
<a name="l00509"></a>00509 }
<a name="l00510"></a>00510 <span class="comment"></span>
<a name="l00511"></a>00511 <span class="comment">/** Get and set GoUctDefaultRootFilter parameters.</span>
<a name="l00512"></a>00512 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;param&quot;.</span>
<a name="l00513"></a>00513 <span class="comment"></span>
<a name="l00514"></a>00514 <span class="comment">    Parameters:</span>
<a name="l00515"></a>00515 <span class="comment">    @arg @c check_ladders See GoUctDefaultRootFilter::CheckLadders() */</span>
<a name="l00516"></a><a class="code" href="classGoUctCommands.html#a59bac9d8e7379cc08f6da0fc9ef4dc3a">00516</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a59bac9d8e7379cc08f6da0fc9ef4dc3a" title="Get and set GoUctDefaultRootFilter parameters.">GoUctCommands::CmdParamRootFilter</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00517"></a>00517 {
<a name="l00518"></a>00518     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(2);
<a name="l00519"></a>00519     <a class="code" href="classGoUctDefaultRootFilter.html" title="Default root filter used by GoUctPlayer.">GoUctDefaultRootFilter</a>* f =
<a name="l00520"></a>00520         <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGoUctDefaultRootFilter.html" title="Default root filter used by GoUctPlayer.">GoUctDefaultRootFilter</a>*<span class="keyword">&gt;</span>(&amp;<a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().RootFilter());
<a name="l00521"></a>00521     <span class="keywordflow">if</span> (f == 0)
<a name="l00522"></a>00522         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;root filter is not GoUctDefaultRootFilter&quot;</span>);
<a name="l00523"></a>00523     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 0)
<a name="l00524"></a>00524     {
<a name="l00525"></a>00525         <span class="comment">// Boolean parameters first for better layout of GoGui parameter</span>
<a name="l00526"></a>00526         <span class="comment">// dialog, alphabetically otherwise</span>
<a name="l00527"></a>00527         cmd &lt;&lt; <span class="stringliteral">&quot;[bool] check_ladders &quot;</span> &lt;&lt; f-&gt;<a class="code" href="classGoUctDefaultRootFilter.html#af4bdf22f4054e36983d787c92785d7ef" title="Prune unsuccesful ladder defense moves (unless the ladder would be short).">CheckLadders</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00528"></a>00528     }
<a name="l00529"></a>00529     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 2)
<a name="l00530"></a>00530     {
<a name="l00531"></a>00531         <span class="keywordtype">string</span> name = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(0);
<a name="l00532"></a>00532         <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;check_ladders&quot;</span>)
<a name="l00533"></a>00533             f-&gt;<a class="code" href="classGoUctDefaultRootFilter.html#a9259f3235b99c54bdfd52c879ecf4220" title="See CheckLadders().">SetCheckLadders</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00534"></a>00534         <span class="keywordflow">else</span>
<a name="l00535"></a>00535             <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown parameter: &quot;</span> &lt;&lt; name;
<a name="l00536"></a>00536     }
<a name="l00537"></a>00537     <span class="keywordflow">else</span>
<a name="l00538"></a>00538         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;need 0 or 2 arguments&quot;</span>;
<a name="l00539"></a>00539 }
<a name="l00540"></a>00540 <span class="comment"></span>
<a name="l00541"></a>00541 <span class="comment">/** Get and set SgUctSearch and GoUctSearch parameters.</span>
<a name="l00542"></a>00542 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;param&quot;.</span>
<a name="l00543"></a>00543 <span class="comment"></span>
<a name="l00544"></a>00544 <span class="comment">    Parameters:</span>
<a name="l00545"></a>00545 <span class="comment">    @arg @c check_float_precision See GoUctSearch::CheckFloatPrecision</span>
<a name="l00546"></a>00546 <span class="comment">    @arg @c keep_games See GoUctSearch::KeepGames</span>
<a name="l00547"></a>00547 <span class="comment">    @arg @c lock_free See SgUctSearch::LockFree</span>
<a name="l00548"></a>00548 <span class="comment">    @arg @c log_games See SgUctSearch::LogGames</span>
<a name="l00549"></a>00549 <span class="comment">    @arg @c prune_full_tree See SgUctSearch::PruneFullTree</span>
<a name="l00550"></a>00550 <span class="comment">    @arg @c rave See SgUctSearch::Rave</span>
<a name="l00551"></a>00551 <span class="comment">    @arg @c weight_rave_updates SgUctSearch::WeightRaveUpdates</span>
<a name="l00552"></a>00552 <span class="comment">    @arg @c bias_term_constant See SgUctSearch::BiasTermConstant</span>
<a name="l00553"></a>00553 <span class="comment">    @arg @c expand_threshold See SgUctSearch::ExpandThreshold</span>
<a name="l00554"></a>00554 <span class="comment">    @arg @c first_play_urgency See SgUctSearch::FirstPlayUrgency</span>
<a name="l00555"></a>00555 <span class="comment">    @arg @c knowledge_threshold See SgUctSearch::KnowledgeThreshold</span>
<a name="l00556"></a>00556 <span class="comment">    @arg @c live_gfx @c none|counts|sequence See GoUctSearch::LiveGfx</span>
<a name="l00557"></a>00557 <span class="comment">    @arg @c live_gfx_interval See GoUctSearch::LiveGfxInterval</span>
<a name="l00558"></a>00558 <span class="comment">    @arg @c max_nodes See SgUctSearch::MaxNodes</span>
<a name="l00559"></a>00559 <span class="comment">    @arg @c move_select @c value|count|bound|rave See SgUctSearch::MoveSelect</span>
<a name="l00560"></a>00560 <span class="comment">    @arg @c number_threads See SgUctSearch::NumberThreads</span>
<a name="l00561"></a>00561 <span class="comment">    @arg @c number_playouts See SgUctSearch::NumberPlayouts</span>
<a name="l00562"></a>00562 <span class="comment">    @arg @c prune_min_count See SgUctSearch::PruneMinCount</span>
<a name="l00563"></a>00563 <span class="comment">    @arg @c rave_weight_final See SgUctSearch::RaveWeightFinal</span>
<a name="l00564"></a>00564 <span class="comment">    @arg @c rave_weight_initial See SgUctSearch::RaveWeightInitial */</span>
<a name="l00565"></a><a class="code" href="classGoUctCommands.html#a201075d9347488ea8ddd19f2330c5755">00565</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a201075d9347488ea8ddd19f2330c5755" title="Get and set SgUctSearch and GoUctSearch parameters.">GoUctCommands::CmdParamSearch</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00566"></a>00566 {
<a name="l00567"></a>00567     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(2);
<a name="l00568"></a>00568     <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; s = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>();
<a name="l00569"></a>00569     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 0)
<a name="l00570"></a>00570     {
<a name="l00571"></a>00571         <span class="comment">// Boolean parameters first for better layout of GoGui parameter</span>
<a name="l00572"></a>00572         <span class="comment">// dialog, alphabetically otherwise</span>
<a name="l00573"></a>00573         cmd &lt;&lt; <span class="stringliteral">&quot;[bool] check_float_precision &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#abd6ba572b7f720f9200982284dd8538a">CheckFloatPrecision</a>()
<a name="l00574"></a>00574             &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00575"></a>00575             &lt;&lt; <span class="stringliteral">&quot;[bool] keep_games &quot;</span> &lt;&lt; s.<a class="code" href="classGoUctSearch.html#a7fe26b3b3aeea4f17b3af3b3d3b03a01" title="Keep a SGF tree of all games.">KeepGames</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00576"></a>00576             &lt;&lt; <span class="stringliteral">&quot;[bool] lock_free &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a8e900b3b036894bc68847f1f95b0897b">LockFree</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00577"></a>00577             &lt;&lt; <span class="stringliteral">&quot;[bool] log_games &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a8c8e1ce2b78360b1e424d098cfbedc26">LogGames</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00578"></a>00578             &lt;&lt; <span class="stringliteral">&quot;[bool] prune_full_tree &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#afb12a893dfb1fc3d381f05f6a062736e">PruneFullTree</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00579"></a>00579             &lt;&lt; <span class="stringliteral">&quot;[bool] rave &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ab0f17bdb0a8355dffc1cdaeea1e463dd">Rave</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00580"></a>00580             &lt;&lt; <span class="stringliteral">&quot;[bool] virtual_loss &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a23e7e645a1fdf0d66e9bbbf4978289d3">VirtualLoss</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00581"></a>00581             &lt;&lt; <span class="stringliteral">&quot;[bool] weight_rave_updates &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a158df0720f5b23d7a2cb7381c1355214">WeightRaveUpdates</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00582"></a>00582             &lt;&lt; <span class="stringliteral">&quot;[string] bias_term_constant &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a5191238905d47fd563e2a67d0cb520b7">BiasTermConstant</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00583"></a>00583             &lt;&lt; <span class="stringliteral">&quot;[string] expand_threshold &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a0f325b6e01cd7c91c3514dca5ce8a7c8">ExpandThreshold</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00584"></a>00584             &lt;&lt; <span class="stringliteral">&quot;[string] first_play_urgency &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a20be5a734bc9b18db5b706f98d4c87f5">FirstPlayUrgency</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00585"></a>00585             &lt;&lt; <span class="stringliteral">&quot;[string] knowledge_threshold &quot;</span>
<a name="l00586"></a>00586             &lt;&lt; KnowledgeThresholdToString(s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a33d0aafdbd624a7bdc4f441589478e0c">KnowledgeThreshold</a>()) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00587"></a>00587             &lt;&lt; <span class="stringliteral">&quot;[list/none/counts/sequence] live_gfx &quot;</span>
<a name="l00588"></a>00588             &lt;&lt; LiveGfxToString(s.<a class="code" href="classGoUctSearch.html#ac9e4d69fcc3e0c2ea3bb40d483e176c6" title="Output live graphics commands for GoGui.">LiveGfx</a>()) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00589"></a>00589             &lt;&lt; <span class="stringliteral">&quot;[string] live_gfx_interval &quot;</span> &lt;&lt; s.<a class="code" href="classGoUctSearch.html#a4f3ae186c77d0f7c01093f0e358bf716" title="Interval for outputting of live graphics commands for GoGui.">LiveGfxInterval</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00590"></a>00590             &lt;&lt; <span class="stringliteral">&quot;[string] max_nodes &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ae82f0197035d7c4a173725b1ddc4bcb1">MaxNodes</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00591"></a>00591             &lt;&lt; <span class="stringliteral">&quot;[list/value/count/bound/estimate] move_select &quot;</span>
<a name="l00592"></a>00592             &lt;&lt; MoveSelectToString(s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ac7aafcf18d149760394bc077e2eb93c6">MoveSelect</a>()) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00593"></a>00593             &lt;&lt; <span class="stringliteral">&quot;[string] number_threads &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a6419666bc7545033e00670c75aa7e906">NumberThreads</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00594"></a>00594             &lt;&lt; <span class="stringliteral">&quot;[string] number_playouts &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a3820ab8a797e77e28bc31dd355311087">NumberPlayouts</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00595"></a>00595             &lt;&lt; <span class="stringliteral">&quot;[string] prune_min_count &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a77bd11666a7c6a1828c34909ba8cb2b9">PruneMinCount</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00596"></a>00596             &lt;&lt; <span class="stringliteral">&quot;[string] randomize_rave_frequency &quot;</span> 
<a name="l00597"></a>00597             &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a405de28fa06bd861e7c25bbb32f79863">RandomizeRaveFrequency</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00598"></a>00598             &lt;&lt; <span class="stringliteral">&quot;[string] rave_weight_final &quot;</span> &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ac659d45a6389d7b9e69591c058ed41c2">RaveWeightFinal</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00599"></a>00599             &lt;&lt; <span class="stringliteral">&quot;[string] rave_weight_initial &quot;</span>
<a name="l00600"></a>00600             &lt;&lt; s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ac7400fd2cf017ca20637b7007766c0d3">RaveWeightInitial</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602     }
<a name="l00603"></a>00603     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 2)
<a name="l00604"></a>00604     {
<a name="l00605"></a>00605         <span class="keywordtype">string</span> name = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(0);
<a name="l00606"></a>00606         <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;check_float_precision&quot;</span>)
<a name="l00607"></a>00607             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a82f676b79d5b47d325d05d95b5532565">SetCheckFloatPrecision</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00608"></a>00608         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;keep_games&quot;</span>)
<a name="l00609"></a>00609             s.<a class="code" href="classGoUctSearch.html#a092cda0be445f5d4d8b2b2319e1e298f" title="See KeepGames().">SetKeepGames</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00610"></a>00610         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;knowledge_threshold&quot;</span>)
<a name="l00611"></a>00611             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a22a9896e47caf10f0fc84860aa715050">SetKnowledgeThreshold</a>(KnowledgeThresholdFromString(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(1)));
<a name="l00612"></a>00612         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;lock_free&quot;</span>)
<a name="l00613"></a>00613             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a6a78698b9133a081de6830b9f0fabf05">SetLockFree</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00614"></a>00614         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;log_games&quot;</span>)
<a name="l00615"></a>00615             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#af17b4427eaf00081455fb2caa56fc1d4">SetLogGames</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00616"></a>00616         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;prune_full_tree&quot;</span>)
<a name="l00617"></a>00617             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a897053dbff377d465da9435ca8aeeddc">SetPruneFullTree</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00618"></a>00618         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;randomize_rave_frequency&quot;</span>)
<a name="l00619"></a>00619             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#af08fec0a8ea043f5c46c378729b4e769">SetRandomizeRaveFrequency</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">int</span>&gt;(1, 0));
<a name="l00620"></a>00620         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;rave&quot;</span>)
<a name="l00621"></a>00621             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#aa403fa611c544e383bb298f973addc77">SetRave</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00622"></a>00622         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;weight_rave_updates&quot;</span>)
<a name="l00623"></a>00623             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#af7e0708a512b74a6c81154e8481aa7df">SetWeightRaveUpdates</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00624"></a>00624         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;virtual_loss&quot;</span>)
<a name="l00625"></a>00625             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a5a1a03de3c2ca53e476592cb664ec0a6">SetVirtualLoss</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">bool</span>&gt;(1));
<a name="l00626"></a>00626         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;bias_term_constant&quot;</span>)
<a name="l00627"></a>00627             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a758d9d19a5051dc2e6cd8e0d6bbe074e">SetBiasTermConstant</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">float</span>&gt;(1));
<a name="l00628"></a>00628         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;expand_threshold&quot;</span>)
<a name="l00629"></a>00629             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a2c3662deeb6daa88b388f499296a701b">SetExpandThreshold</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, 0));
<a name="l00630"></a>00630         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;first_play_urgency&quot;</span>)
<a name="l00631"></a>00631             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a0f7e9fe4b33f10329bf58ae4dd1c14fb">SetFirstPlayUrgency</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1));
<a name="l00632"></a>00632         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;live_gfx&quot;</span>)
<a name="l00633"></a>00633             s.<a class="code" href="classGoUctSearch.html#a8f0fc975003d1b50e61bede3fe2fa255" title="See LiveGfx().">SetLiveGfx</a>(LiveGfxArg(cmd, 1));
<a name="l00634"></a>00634         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;live_gfx_interval&quot;</span>)
<a name="l00635"></a>00635             s.<a class="code" href="classGoUctSearch.html#a7542f1f9dd836f97d475723db0512252" title="See LiveGfxInterval().">SetLiveGfxInterval</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, 1));
<a name="l00636"></a>00636         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;max_nodes&quot;</span>)
<a name="l00637"></a>00637             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ae947738e3b77568b1c59d730874cabc2">SetMaxNodes</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">size_t</span>&gt;(1, 1));
<a name="l00638"></a>00638         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;move_select&quot;</span>)
<a name="l00639"></a>00639             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a89ef7d2107e61ce21ecc1afc05a2af96">SetMoveSelect</a>(MoveSelectArg(cmd, 1));
<a name="l00640"></a>00640         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;number_threads&quot;</span>)
<a name="l00641"></a>00641             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#afa501456693ccbaa12fcd06771296bae">SetNumberThreads</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&gt;(1, 1));
<a name="l00642"></a>00642         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;number_playouts&quot;</span>)
<a name="l00643"></a>00643             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ab5f8926fa443711c18c0f9735da2183e">SetNumberPlayouts</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">int</span>&gt;(1, 1));
<a name="l00644"></a>00644         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;prune_min_count&quot;</span>)
<a name="l00645"></a>00645             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#aae52f51b947dfd48945cad5853386737">SetPruneMinCount</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>&gt;(1, <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>(1)));
<a name="l00646"></a>00646         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;rave_weight_final&quot;</span>)
<a name="l00647"></a>00647             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a0318d4861f273f8021e67a15d65c3547">SetRaveWeightFinal</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">float</span>&gt;(1));
<a name="l00648"></a>00648         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;rave_weight_initial&quot;</span>)
<a name="l00649"></a>00649             s.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ae8b86750e3fc33c05c387fe6d9c5bba0">SetRaveWeightInitial</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>&lt;<span class="keywordtype">float</span>&gt;(1));
<a name="l00650"></a>00650         <span class="keywordflow">else</span>
<a name="l00651"></a>00651             <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;unknown parameter: &quot;</span> &lt;&lt; name;
<a name="l00652"></a>00652     }
<a name="l00653"></a>00653     <span class="keywordflow">else</span>
<a name="l00654"></a>00654         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;need 0 or 2 arguments&quot;</span>;
<a name="l00655"></a>00655 }
<a name="l00656"></a>00656 <span class="comment"></span>
<a name="l00657"></a>00657 <span class="comment">/** Show matching patterns.</span>
<a name="l00658"></a>00658 <span class="comment">    Returns: List of points for matching patterns</span>
<a name="l00659"></a>00659 <span class="comment">    @see GoUctPatterns */</span>
<a name="l00660"></a><a class="code" href="classGoUctCommands.html#a771652659174445ec7a8ee0c8ecc54c8">00660</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a771652659174445ec7a8ee0c8ecc54c8" title="Show matching patterns.">GoUctCommands::CmdPatterns</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00661"></a>00661 {
<a name="l00662"></a>00662     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00663"></a>00663     <a class="code" href="classGoUctPatterns.html">GoUctPatterns&lt;GoBoard&gt;</a> patterns(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>);
<a name="l00664"></a>00664     <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard_1_1Iterator.html">GoBoard::Iterator</a> it(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>); it; ++it)
<a name="l00665"></a>00665         <span class="keywordflow">if</span> (<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a99ac3cb812980a72bfa6e3cdc5eac50c">IsEmpty</a>(*it) &amp;&amp; patterns.<a class="code" href="classGoUctPatterns.html#abfd2c78e237fc0bac83f3d769dc8bd4c" title="Match any of the patterns.">MatchAny</a>(*it))
<a name="l00666"></a>00666             cmd &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(*it) &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00667"></a>00667 }
<a name="l00668"></a>00668 <span class="comment"></span>
<a name="l00669"></a>00669 <span class="comment">/** Return equivalent best moves in playout policy.</span>
<a name="l00670"></a>00670 <span class="comment">    See GoUctPlayoutPolicy::GetEquivalentBestMoves() &lt;br&gt;</span>
<a name="l00671"></a>00671 <span class="comment">    Arguments: none &lt;br&gt;</span>
<a name="l00672"></a>00672 <span class="comment">    Returns: Move type string followed by move list on a single line. */</span>
<a name="l00673"></a><a class="code" href="classGoUctCommands.html#a9396d13b5ca87bb91fa711981f908e68">00673</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a9396d13b5ca87bb91fa711981f908e68" title="Return equivalent best moves in playout policy.">GoUctCommands::CmdPolicyMoves</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00674"></a>00674 {
<a name="l00675"></a>00675     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00676"></a>00676     <a class="code" href="classGoUctPlayoutPolicy.html">GoUctPlayoutPolicy&lt;GoBoard&gt;</a> policy(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>, <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().m_playoutPolicyParam);
<a name="l00677"></a>00677     policy.<a class="code" href="classGoUctPlayoutPolicy.html#ac13982ea9751b9baa55f1a827e311924">StartPlayout</a>();
<a name="l00678"></a>00678     policy.<a class="code" href="classGoUctPlayoutPolicy.html#a15441ecad1cfdf7f42a1d8ccbdc1b8d2" title="Generate a move Generates a random move in the following order:Atari heuristic (if enabled)Proximity ...">GenerateMove</a>();
<a name="l00679"></a>00679     cmd &lt;&lt; <a class="code" href="GoUctPlayoutPolicy_8cpp.html#a15031bb52678d3a31d60f00e5d59a587">GoUctPlayoutPolicyTypeStr</a>(policy.<a class="code" href="classGoUctPlayoutPolicy.html#a04b3b5e30ad489074020e2b64572ee89" title="Return the type of the last move generated.">MoveType</a>());
<a name="l00680"></a>00680     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgArrayList.html">GoPointList</a> moves = policy.<a class="code" href="classGoUctPlayoutPolicy.html#a16933859840d9de363851f6ace72ae96" title="Return the list of equivalent best moves from last move generation.">GetEquivalentBestMoves</a>();
<a name="l00681"></a>00681     <span class="comment">// Sort for deterministic response</span>
<a name="l00682"></a>00682     <span class="comment">// (GoUctPlayoutPolicy::GetEquivalentBestMoves() does not return</span>
<a name="l00683"></a>00683     <span class="comment">// a deterministic list, because GoUctUtil::SelectRandom() may modify</span>
<a name="l00684"></a>00684     <span class="comment">// the list in a non-deterministic way)</span>
<a name="l00685"></a>00685     moves.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgArrayList.html#adc7a6642801f609e15cb5370b090f0a4">Sort</a>();
<a name="l00686"></a>00686     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; moves.Length(); ++i)
<a name="l00687"></a>00687         cmd &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(moves[i]);
<a name="l00688"></a>00688 }
<a name="l00689"></a>00689 <span class="comment"></span>
<a name="l00690"></a>00690 <span class="comment">/** Show prior knowledge.</span>
<a name="l00691"></a>00691 <span class="comment">    The response is compatible to the GoGui analyze command type @c</span>
<a name="l00692"></a>00692 <span class="comment">    gfx and shows the prior knowledge values as influence and the</span>
<a name="l00693"></a>00693 <span class="comment">    counts as labels. */</span>
<a name="l00694"></a><a class="code" href="classGoUctCommands.html#ae7f2adbc177792dd25c71da1464f5c49">00694</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#ae7f2adbc177792dd25c71da1464f5c49" title="Show prior knowledge.">GoUctCommands::CmdPriorKnowledge</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00695"></a>00695 {
<a name="l00696"></a>00696     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(1);
<a name="l00697"></a>00697     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> count = 0;
<a name="l00698"></a>00698     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 1)
<a name="l00699"></a>00699         count = <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a>(cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">size_t</span>&gt;(0, 0));
<a name="l00700"></a>00700     <a class="code" href="classGoUctGlobalSearchState.html" title="Global UCT-Search for Go.">GoUctGlobalSearchState&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a> &gt;&amp; state
<a name="l00701"></a>00701         = <a class="code" href="classGoUctCommands.html#ad002188d12b9c0b0880be71ca7bf27a8" title="Return state of first thread, if search is of type GoUctGlobalSearch.">ThreadState</a>(0);
<a name="l00702"></a>00702     state.<a class="code" href="classGoUctGlobalSearchState.html#a61544e9809be423735127b47e2e872ea">StartSearch</a>(); <span class="comment">// Updates thread state board</span>
<a name="l00703"></a>00703     vector&lt;SgUctMoveInfo&gt; moves;
<a name="l00704"></a>00704     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctTree_8h.html#a20df08516f99439d98e7d7981e3962db">SgUctProvenType</a> provenType;
<a name="l00705"></a>00705     state.<a class="code" href="classGoUctGlobalSearchState.html#aebea7288da3f6a6f4040f440bcd2e64e">GenerateAllMoves</a>(count, moves, provenType);
<a name="l00706"></a>00706 
<a name="l00707"></a>00707     cmd &lt;&lt; <span class="stringliteral">&quot;INFLUENCE &quot;</span>;
<a name="l00708"></a>00708     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; moves.size(); ++i) 
<a name="l00709"></a>00709     {
<a name="l00710"></a>00710         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgMove_8h.html#ab340c6de81d64e1ff03291b50925defa">SgMove</a> move = moves[i].m_move;
<a name="l00711"></a>00711         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> value = <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ab9a4fbf72da7c956999c24136eb6cfbb">SgUctSearch::InverseEval</a>(moves[i].m_value);
<a name="l00712"></a>00712         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> count = moves[i].m_count;
<a name="l00713"></a>00713         <span class="keywordflow">if</span> (count &gt; 0)
<a name="l00714"></a>00714         {
<a name="l00715"></a>00715             <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> scaledValue = (value * 2 - 1);
<a name="l00716"></a>00716             <span class="keywordflow">if</span> (<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a8f26442e14c3cdc06c56c20b49703591">ToPlay</a>() != <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#a455e66a4a6ccc0a446eb2d10814c93a5">SG_BLACK</a>)
<a name="l00717"></a>00717                 scaledValue *= -1;
<a name="l00718"></a>00718             cmd &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(move) &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; scaledValue;
<a name="l00719"></a>00719         }
<a name="l00720"></a>00720     }
<a name="l00721"></a>00721     cmd &lt;&lt; <span class="stringliteral">&quot;\nLABEL &quot;</span>;
<a name="l00722"></a>00722     <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; moves.size(); ++i)
<a name="l00723"></a>00723     {
<a name="l00724"></a>00724         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgMove_8h.html#ab340c6de81d64e1ff03291b50925defa">SgMove</a> move = moves[i].m_move;
<a name="l00725"></a>00725         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> count = moves[i].m_count;
<a name="l00726"></a>00726         <span class="keywordflow">if</span> (count &gt; 0)
<a name="l00727"></a>00727             cmd &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/structSgWritePoint.html">SgWritePoint</a>(move) &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; count;
<a name="l00728"></a>00728     }
<a name="l00729"></a>00729     cmd &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00730"></a>00730 }
<a name="l00731"></a>00731 <span class="comment"></span>
<a name="l00732"></a>00732 <span class="comment">/** Show RAVE values of last search at root position.</span>
<a name="l00733"></a>00733 <span class="comment">    This command is compatible to the GoGui analyze command type @c sboard.</span>
<a name="l00734"></a>00734 <span class="comment">    The values are scaled to [-1,+1] from Black&#39;s point of view.</span>
<a name="l00735"></a>00735 <span class="comment">    @see SgUctSearch::Rave */</span>
<a name="l00736"></a><a class="code" href="classGoUctCommands.html#aedbcd5d1e7c7c97651cf95f25c8aa9be">00736</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#aedbcd5d1e7c7c97651cf95f25c8aa9be" title="Show RAVE values of last search at root position.">GoUctCommands::CmdRaveValues</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00737"></a>00737 {
<a name="l00738"></a>00738     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00739"></a>00739     <span class="keyword">const</span> <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; search = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>();
<a name="l00740"></a>00740     <span class="keywordflow">if</span> (! search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ab0f17bdb0a8355dffc1cdaeea1e463dd">Rave</a>())
<a name="l00741"></a>00741         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;RAVE not enabled&quot;</span>);
<a name="l00742"></a>00742     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointArray.html">SgPointArray&lt;string&gt;</a> array(<span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>);
<a name="l00743"></a>00743     <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTree.html">SgUctTree</a>&amp; tree = search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a543e3447ba3885494014e5bdf99c1673">Tree</a>();
<a name="l00744"></a>00744     <span class="keywordflow">for</span> (<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctChildIterator.html">SgUctChildIterator</a> it(tree, tree.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTree.html#a565f36ba3215a96b5074b94065bd24a4">Root</a>()); it; ++it)
<a name="l00745"></a>00745     {
<a name="l00746"></a>00746         <span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html">SgUctNode</a>&amp; child = *it;
<a name="l00747"></a>00747         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a49c23409e7e51c1edc053b56d3dd248c">SgPoint</a> p = child.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html#acf9d0e8a1888bdab3120c7422a3d98f3">Move</a>();
<a name="l00748"></a>00748         <span class="keywordflow">if</span> (p == <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a91bceaeaed14cc1ac24bec79532430e7">SG_PASS</a> || ! child.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html#a78de45cd5b5eba2245d75a78610b1a28">HasRaveValue</a>())
<a name="l00749"></a>00749             <span class="keywordflow">continue</span>;
<a name="l00750"></a>00750         ostringstream out;
<a name="l00751"></a>00751         out &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; child.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html#a85679d99bf7ccaefcb3bff6eeffec590">RaveValue</a>();
<a name="l00752"></a>00752         array[p] = out.str();
<a name="l00753"></a>00753     }
<a name="l00754"></a>00754     cmd &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00755"></a>00755         &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgWritePointArray.html">SgWritePointArray&lt;string&gt;</a>(array, <a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a616aba99c5f7075be081451d6cefbaf0">Size</a>());
<a name="l00756"></a>00756 }
<a name="l00757"></a>00757 <span class="comment"></span>
<a name="l00758"></a>00758 <span class="comment">/** Return filtered root moves.</span>
<a name="l00759"></a>00759 <span class="comment">    @see GoUctRootFilter::Get() */</span>
<a name="l00760"></a><a class="code" href="classGoUctCommands.html#ac6d477744235dbad19b105326f6b46ef">00760</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#ac6d477744235dbad19b105326f6b46ef" title="Return filtered root moves.">GoUctCommands::CmdRootFilter</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00761"></a>00761 {
<a name="l00762"></a>00762     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00763"></a>00763     cmd &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgWritePointList.html">SgWritePointList</a>(<a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().RootFilter().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/namespaceSgTime.html#aae2c0644097c0942758af9e10be10794">Get</a>(), <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>);
<a name="l00764"></a>00764 }
<a name="l00765"></a>00765 <span class="comment"></span>
<a name="l00766"></a>00766 <span class="comment">/** Save the UCT tree in SGF format.</span>
<a name="l00767"></a>00767 <span class="comment">    Arguments: filename [max_depth] &lt;br&gt;</span>
<a name="l00768"></a>00768 <span class="comment">    max_depth is an optional argument to cut the tree at a certain depth</span>
<a name="l00769"></a>00769 <span class="comment">    (the root node has depth 0). If it is not used, the full tree will be</span>
<a name="l00770"></a>00770 <span class="comment">    saved.</span>
<a name="l00771"></a>00771 <span class="comment">    @see GoUctSearch::SaveTree() */</span>
<a name="l00772"></a><a class="code" href="classGoUctCommands.html#a488743c05194d2142b15ed9d84ce43ac">00772</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a488743c05194d2142b15ed9d84ce43ac" title="Save the UCT tree in SGF format.">GoUctCommands::CmdSaveTree</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00773"></a>00773 {
<a name="l00774"></a>00774     <span class="keywordflow">if</span> (<a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().MpiSynchronizer()-&gt;IsRootProcess())
<a name="l00775"></a>00775     {
<a name="l00776"></a>00776     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#af3482da5c9625d015c785f19bdf0b156">CheckNuArgLessEqual</a>(2);
<a name="l00777"></a>00777     <span class="keywordtype">string</span> fileName = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>(0);
<a name="l00778"></a>00778     <span class="keywordtype">int</span> maxDepth = -1;
<a name="l00779"></a>00779     <span class="keywordflow">if</span> (cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#ac6a36739753d41e740693500eb7741db">NuArg</a>() == 2)
<a name="l00780"></a>00780         maxDepth = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a7c51c15eee4f71e5f39ef6d6359fca13">ArgMin</a>&lt;<span class="keywordtype">int</span>&gt;(1, 0);
<a name="l00781"></a>00781     ofstream out(fileName.c_str());
<a name="l00782"></a>00782     <span class="keywordflow">if</span> (! out)
<a name="l00783"></a>00783         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>() &lt;&lt; <span class="stringliteral">&quot;Could not open &quot;</span> &lt;&lt; fileName;
<a name="l00784"></a>00784     <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="code" href="classGoUctSearch.html#a67b75c72c0e2d66b3b6f22d504fc23c8" title="See GoUctUtil::SaveTree().">SaveTree</a>(out, maxDepth);
<a name="l00785"></a>00785     }
<a name="l00786"></a>00786 }
<a name="l00787"></a>00787 <span class="comment"></span>
<a name="l00788"></a>00788 <span class="comment">/** Save all random games.</span>
<a name="l00789"></a>00789 <span class="comment">    Arguments: filename</span>
<a name="l00790"></a>00790 <span class="comment">    @see GoUctSearch::SaveGames() */</span>
<a name="l00791"></a><a class="code" href="classGoUctCommands.html#a65cca085dbb749dc59928d5e2ee8e142">00791</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a65cca085dbb749dc59928d5e2ee8e142" title="Save all random games.">GoUctCommands::CmdSaveGames</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00792"></a>00792 {
<a name="l00793"></a>00793     <span class="keywordtype">string</span> fileName = cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a3b37a10966c9d2ff06bf357af148108c">Arg</a>();
<a name="l00794"></a>00794     <span class="keywordflow">try</span>
<a name="l00795"></a>00795     {
<a name="l00796"></a>00796         <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="code" href="classGoUctSearch.html#a832b5bcc76ceea53e4080f7e01fcd529" title="See SetKeepGames().">SaveGames</a>(fileName);
<a name="l00797"></a>00797     }
<a name="l00798"></a>00798     <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgException.html">SgException</a>&amp; e)
<a name="l00799"></a>00799     {
<a name="l00800"></a>00800         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(e.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgException.html#a6cc1fd4ef9c32e27508a36dfbb611592">what</a>());
<a name="l00801"></a>00801     }
<a name="l00802"></a>00802 }
<a name="l00803"></a>00803 <span class="comment"></span>
<a name="l00804"></a>00804 <span class="comment">/** Count the score using the scoring function of UCT.</span>
<a name="l00805"></a>00805 <span class="comment">    Arguments: none &lt;br&gt;</span>
<a name="l00806"></a>00806 <span class="comment">    Returns: Score (Win/Loss)</span>
<a name="l00807"></a>00807 <span class="comment">    @see GoBoardUtil::ScoreSimpleEndPosition() */</span>
<a name="l00808"></a><a class="code" href="classGoUctCommands.html#a64ad8a18451305cc898e6829b28acf6c">00808</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a64ad8a18451305cc898e6829b28acf6c" title="Count the score using the scoring function of UCT.">GoUctCommands::CmdScore</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00809"></a>00809 {
<a name="l00810"></a>00810     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00811"></a>00811     <span class="keywordflow">try</span>
<a name="l00812"></a>00812     {
<a name="l00813"></a>00813         <span class="keywordtype">float</span> komi = <a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a6cae0cf1e43359f95edc5f0d1f148253">Rules</a>().<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoRules.html#aa040c02bc271cd8155f4afe305b0a6c4">Komi</a>().<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoKomi.html#aa01fe8a947bbb7c0fc28e54ed39cc8f3">ToFloat</a>();
<a name="l00814"></a>00814         cmd &lt;&lt; <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/namespaceGoBoardUtil.html#af613cbb96003f32b481f8435783367c1">GoBoardUtil::ScoreSimpleEndPosition</a>(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>, komi);
<a name="l00815"></a>00815     }
<a name="l00816"></a>00816     <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgException.html">SgException</a>&amp; e)
<a name="l00817"></a>00817     {
<a name="l00818"></a>00818         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(e.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgException.html#a6cc1fd4ef9c32e27508a36dfbb611592">what</a>());
<a name="l00819"></a>00819     }
<a name="l00820"></a>00820 }
<a name="l00821"></a>00821 <span class="comment"></span>
<a name="l00822"></a>00822 <span class="comment">/** Show the best sequence from last search.</span>
<a name="l00823"></a>00823 <span class="comment">    This command is compatible with the GoGui analyze command type &quot;gfx&quot;</span>
<a name="l00824"></a>00824 <span class="comment">    (There is no &quot;var&quot; command type supported in GoGui 1.1, which allows</span>
<a name="l00825"></a>00825 <span class="comment">    to specify the first color to move within the response, and this command</span>
<a name="l00826"></a>00826 <span class="comment">    returns the sequence of the last search, which is unrelated to the current</span>
<a name="l00827"></a>00827 <span class="comment">    color to play on the board.) &lt;br&gt;</span>
<a name="l00828"></a>00828 <span class="comment">    Arguments: none */</span>
<a name="l00829"></a><a class="code" href="classGoUctCommands.html#a264cb9af6b0ba68650bcd7829d35f426">00829</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a264cb9af6b0ba68650bcd7829d35f426" title="Show the best sequence from last search.">GoUctCommands::CmdSequence</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00830"></a>00830 {
<a name="l00831"></a>00831     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00832"></a>00832     <a class="code" href="namespaceGoUctUtil.html#a8b8da744d3fc4c251204aeb3021f75e1" title="Print best sequence of search in GoGui live-gfx format.">GoUctUtil::GfxSequence</a>(<a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>(), <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().ToPlay(), cmd);
<a name="l00833"></a>00833 }
<a name="l00834"></a>00834 <span class="comment"></span>
<a name="l00835"></a>00835 <span class="comment">/** Write statistics of GoUctPlayer.</span>
<a name="l00836"></a>00836 <span class="comment">    Arguments: none</span>
<a name="l00837"></a>00837 <span class="comment">    @see GoUctPlayer::Statistics */</span>
<a name="l00838"></a><a class="code" href="classGoUctCommands.html#a4f18be54638d4367b320e83076f27a1e">00838</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a4f18be54638d4367b320e83076f27a1e" title="Write statistics of GoUctPlayer.">GoUctCommands::CmdStatPlayer</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00839"></a>00839 {
<a name="l00840"></a>00840     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00841"></a>00841     <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().GetStatistics().Write(cmd);
<a name="l00842"></a>00842 }
<a name="l00843"></a>00843 <span class="comment"></span>
<a name="l00844"></a>00844 <span class="comment">/** Clear statistics of GoUctPlayer.</span>
<a name="l00845"></a>00845 <span class="comment">    Arguments: none</span>
<a name="l00846"></a>00846 <span class="comment">    @see GoUctPlayer::Statistics */</span>
<a name="l00847"></a><a class="code" href="classGoUctCommands.html#af0d9ef354563d3425f45942c71beb288">00847</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#af0d9ef354563d3425f45942c71beb288" title="Clear statistics of GoUctPlayer.">GoUctCommands::CmdStatPlayerClear</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00848"></a>00848 {
<a name="l00849"></a>00849     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00850"></a>00850     <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().ClearStatistics();
<a name="l00851"></a>00851 }
<a name="l00852"></a>00852 <span class="comment"></span>
<a name="l00853"></a>00853 <span class="comment">/** Write statistics of playout policy.</span>
<a name="l00854"></a>00854 <span class="comment">    Arguments: none &lt;br&gt;</span>
<a name="l00855"></a>00855 <span class="comment">    Needs enabling the statistics with</span>
<a name="l00856"></a>00856 <span class="comment">    &lt;code&gt;uct_param_policy statistics_enabled&lt;/code&gt;</span>
<a name="l00857"></a>00857 <span class="comment">    Only the statistics of the first thread&#39;s policy used.</span>
<a name="l00858"></a>00858 <span class="comment">    @see GoUctPlayoutPolicyStat */</span>
<a name="l00859"></a><a class="code" href="classGoUctCommands.html#afb7b0d50aff541768922791647f351e6">00859</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#afb7b0d50aff541768922791647f351e6" title="Write statistics of playout policy.">GoUctCommands::CmdStatPolicy</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00860"></a>00860 {
<a name="l00861"></a>00861     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00862"></a>00862     <span class="keywordflow">if</span> (! <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().m_playoutPolicyParam.m_statisticsEnabled)
<a name="l00863"></a>00863         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgDebug_8cpp.html#a73d450433f48385267527d2aeb1f8fbf">SgWarning</a>() &lt;&lt; <span class="stringliteral">&quot;statistics not enabled in policy parameters\n&quot;</span>;
<a name="l00864"></a>00864     cmd &lt;&lt; <span class="stringliteral">&quot;Black Statistics:\n&quot;</span>;
<a name="l00865"></a>00865     <a class="code" href="classGoUctCommands.html#ad8f52d049f31227eda2c5577fe5be29d">Policy</a>(0).Statistics(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#a455e66a4a6ccc0a446eb2d10814c93a5">SG_BLACK</a>).Write(cmd);
<a name="l00866"></a>00866     cmd &lt;&lt; <span class="stringliteral">&quot;\nWhite Statistics:\n&quot;</span>;
<a name="l00867"></a>00867     <a class="code" href="classGoUctCommands.html#ad8f52d049f31227eda2c5577fe5be29d">Policy</a>(0).Statistics(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#ae2543fbfd95354255bd12a052598b3ac">SG_WHITE</a>).Write(cmd);
<a name="l00868"></a>00868 }
<a name="l00869"></a>00869 <span class="comment"></span>
<a name="l00870"></a>00870 <span class="comment">/** Clear statistics of GoUctPlayoutPolicy</span>
<a name="l00871"></a>00871 <span class="comment">    Arguments: none &lt;br&gt;</span>
<a name="l00872"></a>00872 <span class="comment">    Only the statistics of the first thread&#39;s policy used.</span>
<a name="l00873"></a>00873 <span class="comment">    @see GoUctPlayoutPolicyStat */</span>
<a name="l00874"></a><a class="code" href="classGoUctCommands.html#a8fe4efbbc553b3f40963212b8a6c4f1e">00874</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a8fe4efbbc553b3f40963212b8a6c4f1e" title="Clear statistics of GoUctPlayoutPolicy Arguments: none   Only the statistics of the first thread&amp;#39;...">GoUctCommands::CmdStatPolicyClear</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00875"></a>00875 {
<a name="l00876"></a>00876     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00877"></a>00877     <a class="code" href="classGoUctCommands.html#ad8f52d049f31227eda2c5577fe5be29d">Policy</a>(0).ClearStatistics();
<a name="l00878"></a>00878 }
<a name="l00879"></a>00879 <span class="comment"></span>
<a name="l00880"></a>00880 <span class="comment">/** Write statistics of search and tree.</span>
<a name="l00881"></a>00881 <span class="comment">    Arguments: none</span>
<a name="l00882"></a>00882 <span class="comment">    @see SgUctSearch::WriteStatistics() */</span>
<a name="l00883"></a><a class="code" href="classGoUctCommands.html#a0b19d0018c2f6afa0bf7beec39850446">00883</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a0b19d0018c2f6afa0bf7beec39850446" title="Write statistics of search and tree.">GoUctCommands::CmdStatSearch</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00884"></a>00884 {
<a name="l00885"></a>00885     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00886"></a>00886     <span class="keyword">const</span> <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; search = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>();
<a name="l00887"></a>00887     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTreeStatistics.html">SgUctTreeStatistics</a> treeStatistics;
<a name="l00888"></a>00888     treeStatistics.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTreeStatistics.html#a72dfeadeeaf33a3064dcd3d559092015">Compute</a>(search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a543e3447ba3885494014e5bdf99c1673">Tree</a>());
<a name="l00889"></a>00889     cmd &lt;&lt; <span class="stringliteral">&quot;SearchStatistics:\n&quot;</span>;
<a name="l00890"></a>00890     search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a81bab46a6f38d3c13ddeaf220bc6049c">WriteStatistics</a>(cmd);
<a name="l00891"></a>00891     cmd &lt;&lt; <span class="stringliteral">&quot;TreeStatistics:\n&quot;</span>
<a name="l00892"></a>00892         &lt;&lt; treeStatistics;
<a name="l00893"></a>00893 }
<a name="l00894"></a>00894 <span class="comment"></span>
<a name="l00895"></a>00895 <span class="comment">/** Write average point status.</span>
<a name="l00896"></a>00896 <span class="comment">    This command is compatible with the GoGui analyze type @c dboard. &lt;br&gt;</span>
<a name="l00897"></a>00897 <span class="comment">    Statistics are only collected, if enabled with</span>
<a name="l00898"></a>00898 <span class="comment">    &lt;code&gt;uct_param_global_search territory_statistics 1&lt;/code&gt;. &lt;br&gt;</span>
<a name="l00899"></a>00899 <span class="comment">    Arguments: none</span>
<a name="l00900"></a>00900 <span class="comment">    @see GoUctGlobalSearchState::m_territoryStatistics */</span>
<a name="l00901"></a><a class="code" href="classGoUctCommands.html#a97816d7d6cd9d3fb6ace445b288289cc">00901</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a97816d7d6cd9d3fb6ace445b288289cc" title="Write average point status.">GoUctCommands::CmdStatTerritory</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00902"></a>00902 {
<a name="l00903"></a>00903     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00904"></a>00904     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointArray.html">SgPointArray&lt;SgUctStatistics&gt;</a> territoryStatistics
<a name="l00905"></a>00905         = <a class="code" href="classGoUctCommands.html#ad002188d12b9c0b0880be71ca7bf27a8" title="Return state of first thread, if search is of type GoUctGlobalSearch.">ThreadState</a>(0).m_territoryStatistics;
<a name="l00906"></a>00906     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointArray.html">SgPointArray&lt;SgUctValue&gt;</a> array;
<a name="l00907"></a>00907     <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard_1_1Iterator.html">GoBoard::Iterator</a> it(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>); it; ++it)
<a name="l00908"></a>00908     {
<a name="l00909"></a>00909         <span class="keywordflow">if</span> (territoryStatistics[*it].Count() == 0)
<a name="l00910"></a>00910             <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;no statistics available: enable them and run search first&quot;</span>);
<a name="l00911"></a>00911         array[*it] = territoryStatistics[*it].Mean() * 2 - 1;
<a name="l00912"></a>00912     }
<a name="l00913"></a>00913     cmd &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>
<a name="l00914"></a>00914         &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgWritePointArrayFloat.html">SgWritePointArrayFloat&lt;SgUctValue&gt;</a>(array, <a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a616aba99c5f7075be081451d6cefbaf0">Size</a>(), <span class="keyword">true</span>, 3);
<a name="l00915"></a>00915 }
<a name="l00916"></a>00916 <span class="comment"></span>
<a name="l00917"></a>00917 <span class="comment">/** Return value of root node from last search.</span>
<a name="l00918"></a>00918 <span class="comment">    Arguments: none */</span>
<a name="l00919"></a><a class="code" href="classGoUctCommands.html#a12bfadd3c664551e7a87e0977727fa00">00919</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a12bfadd3c664551e7a87e0977727fa00" title="Return value of root node from last search.">GoUctCommands::CmdValue</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00920"></a>00920 {
<a name="l00921"></a>00921     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00922"></a>00922     cmd &lt;&lt; <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a543e3447ba3885494014e5bdf99c1673">Tree</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTree.html#a565f36ba3215a96b5074b94065bd24a4">Root</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html#ad2a5651c5537284caccdfe3cc437b579">Mean</a>();
<a name="l00923"></a>00923 }
<a name="l00924"></a>00924 <span class="comment"></span>
<a name="l00925"></a>00925 <span class="comment">/** Return value of root node from last search, from Black&#39;s point of view.</span>
<a name="l00926"></a>00926 <span class="comment">    Arguments: none */</span>
<a name="l00927"></a><a class="code" href="classGoUctCommands.html#a8e019a61b4f7a348d756c2bcce5a4359">00927</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#a8e019a61b4f7a348d756c2bcce5a4359" title="Return value of root node from last search, from Black&amp;#39;s point of view.">GoUctCommands::CmdValueBlack</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html">GtpCommand</a>&amp; cmd)
<a name="l00928"></a>00928 {
<a name="l00929"></a>00929     cmd.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCommand.html#a0b2507b917a8e979c62d911a536faa93">CheckArgNone</a>();
<a name="l00930"></a>00930     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgUctValue_8h.html#a14d2f4b164799cba5679f82158445cfa">SgUctValue</a> value = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a543e3447ba3885494014e5bdf99c1673">Tree</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctTree.html#a565f36ba3215a96b5074b94065bd24a4">Root</a>().<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctNode.html#ad2a5651c5537284caccdfe3cc437b579">Mean</a>();
<a name="l00931"></a>00931     <span class="keywordflow">if</span> (<a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>().ToPlay() == <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#ae2543fbfd95354255bd12a052598b3ac">SG_WHITE</a>)
<a name="l00932"></a>00932         value = <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ab9a4fbf72da7c956999c24136eb6cfbb">SgUctSearch::InverseEval</a>(value);
<a name="l00933"></a>00933     cmd &lt;&lt; value;
<a name="l00934"></a>00934 }
<a name="l00935"></a>00935 <span class="comment"></span>
<a name="l00936"></a>00936 <span class="comment">/** Do a small search with territory statistics enabled to determine what</span>
<a name="l00937"></a>00937 <span class="comment">    blocks are dead for the final_status_list and final_score commands.</span>
<a name="l00938"></a>00938 <span class="comment">    @return Point set containing dead stones. */</span>
<a name="l00939"></a><a class="code" href="classGoUctCommands.html#a34a99ae626b7057995e8cde2f15c64f6">00939</a> <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a> <a class="code" href="classGoUctCommands.html#a34a99ae626b7057995e8cde2f15c64f6" title="Do a small search with territory statistics enabled to determine what blocks are dead for the final_s...">GoUctCommands::DoFinalStatusSearch</a>()
<a name="l00940"></a>00940 {
<a name="l00941"></a>00941     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html">SgPointSet</a> deadStones;
<a name="l00942"></a>00942     <span class="keywordflow">if</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/namespaceGoBoardUtil.html#a62cf52b9fe52ad6f3602b0df68c2f022">GoBoardUtil::TwoPasses</a>(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>) &amp;&amp; <a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a6cae0cf1e43359f95edc5f0d1f148253">Rules</a>().<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoRules.html#ad44ac6cc1c5bd29f3395128265b68a2c">CaptureDead</a>())
<a name="l00943"></a>00943         <span class="comment">// Everything is alive if end position and Tromp-Taylor rules</span>
<a name="l00944"></a>00944         <span class="keywordflow">return</span> deadStones;
<a name="l00945"></a>00945 
<a name="l00946"></a>00946     <span class="keyword">const</span> <span class="keywordtype">size_t</span> MAX_GAMES = 10000;
<a name="l00947"></a>00947     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgDebug_8cpp.html#a4f7aef519ae8e6fcc1399ffee77dd85d">SgDebug</a>() &lt;&lt; <span class="stringliteral">&quot;GoUctCommands::DoFinalStatusSearch: doing a search with &quot;</span>
<a name="l00948"></a>00948               &lt;&lt; MAX_GAMES &lt;&lt; <span class="stringliteral">&quot; games to determine final status\n&quot;</span>;
<a name="l00949"></a>00949     <a class="code" href="classGoUctGlobalSearch.html" title="Full board Monte-Carlo tree search.">GoUctGlobalSearch&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>,
<a name="l00950"></a>00950                       <a class="code" href="classGoUctPlayoutPolicyFactory.html">GoUctPlayoutPolicyFactory&lt;GoUctBoard&gt;</a> &gt;&amp;
<a name="l00951"></a>00951         search = <a class="code" href="classGoUctCommands.html#a58db116e111bae4da3dcaa6ba204dd7b">GlobalSearch</a>();
<a name="l00952"></a>00952     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgRestorer.html">SgRestorer&lt;bool&gt;</a> restorer(&amp;search.<a class="code" href="classGoUctGlobalSearch.html#ac988275d4b7218da788ec40bc00c7fa6">m_param</a>.<a class="code" href="structGoUctGlobalSearchStateParam.html#ac561ccfb7d9ee0426e58b63b8f36546c" title="Compute probabilities of territory in terminal positions.">m_territoryStatistics</a>);
<a name="l00953"></a>00953     search.<a class="code" href="classGoUctGlobalSearch.html#ac988275d4b7218da788ec40bc00c7fa6">m_param</a>.<a class="code" href="structGoUctGlobalSearchStateParam.html#ac561ccfb7d9ee0426e58b63b8f36546c" title="Compute probabilities of territory in terminal positions.">m_territoryStatistics</a> = <span class="keyword">true</span>;
<a name="l00954"></a>00954     <span class="comment">// Undo passes, because UCT search always scores with Tromp-Taylor after</span>
<a name="l00955"></a>00955     <span class="comment">// two passes in-tree</span>
<a name="l00956"></a>00956     <span class="keywordtype">int</span> nuUndoPass = 0;
<a name="l00957"></a>00957     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> toPlay = <a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a8f26442e14c3cdc06c56c20b49703591">ToPlay</a>();
<a name="l00958"></a>00958     <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoModBoard.html">GoModBoard</a> modBoard(<a class="code" href="classGoUctCommands.html#a5301bd78ed1034dab76e220c2be0e406">m_bd</a>);
<a name="l00959"></a>00959     <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html">GoBoard</a>&amp; bd = modBoard.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoModBoard.html#ae7c83bf65635367655d6a3061d54f395">Board</a>();
<a name="l00960"></a>00960     <span class="keywordflow">while</span> (bd.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a36d012152f29ffcb859c259122d0afe4">GetLastMove</a>() == <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a91bceaeaed14cc1ac24bec79532430e7">SG_PASS</a>)
<a name="l00961"></a>00961     {
<a name="l00962"></a>00962         bd.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a043fe4741e8606969db13338491673da">Undo</a>();
<a name="l00963"></a>00963         toPlay = <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#ad46e340d4ffa744bb5011cdb21991f80">SgOppBW</a>(toPlay);
<a name="l00964"></a>00964         ++nuUndoPass;
<a name="l00965"></a>00965     }
<a name="l00966"></a>00966     <a class="code" href="classGoUctCommands.html#aa9b3b735895896ae85496ed102d49ec1">m_player</a>-&gt;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoardSynchronizer.html#afb7f466f40251ee64ca534ac1921123e">UpdateSubscriber</a>();
<a name="l00967"></a>00967     <span class="keywordflow">if</span> (nuUndoPass &gt; 0)
<a name="l00968"></a>00968         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgDebug_8cpp.html#a4f7aef519ae8e6fcc1399ffee77dd85d">SgDebug</a>() &lt;&lt; <span class="stringliteral">&quot;Undoing &quot;</span> &lt;&lt; nuUndoPass &lt;&lt; <span class="stringliteral">&quot; passes\n&quot;</span>;
<a name="l00969"></a>00969     vector&lt;SgMove&gt; sequence;
<a name="l00970"></a>00970     search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ad8840cb507beff797b822fe3f18aaa23">Search</a>(MAX_GAMES, numeric_limits&lt;double&gt;::max(), sequence);
<a name="l00971"></a>00971     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgDebug_8cpp.html#a4f7aef519ae8e6fcc1399ffee77dd85d">SgDebug</a>() &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgWriteLabel.html">SgWriteLabel</a>(<span class="stringliteral">&quot;Sequence&quot;</span>)
<a name="l00972"></a>00972               &lt;&lt; <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgWritePointList.html">SgWritePointList</a>(sequence, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">false</span>);
<a name="l00973"></a>00973     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nuUndoPass; ++i)
<a name="l00974"></a>00974     {
<a name="l00975"></a>00975         bd.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a277960d5f3fb21a232b1e4c25efec148">Play</a>(<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgPoint_8h.html#a91bceaeaed14cc1ac24bec79532430e7">SG_PASS</a>, toPlay);
<a name="l00976"></a>00976         toPlay = <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#ad46e340d4ffa744bb5011cdb21991f80">SgOppBW</a>(toPlay);
<a name="l00977"></a>00977     }
<a name="l00978"></a>00978     <a class="code" href="classGoUctCommands.html#aa9b3b735895896ae85496ed102d49ec1">m_player</a>-&gt;<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoardSynchronizer.html#afb7f466f40251ee64ca534ac1921123e">UpdateSubscriber</a>();
<a name="l00979"></a>00979 
<a name="l00980"></a>00980     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointArray.html">SgPointArray&lt;SgUctStatistics&gt;</a> territoryStatistics =
<a name="l00981"></a>00981         <a class="code" href="classGoUctCommands.html#ad002188d12b9c0b0880be71ca7bf27a8" title="Return state of first thread, if search is of type GoUctGlobalSearch.">ThreadState</a>(0).m_territoryStatistics;
<a name="l00982"></a>00982     <a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoSafetySolver.html">GoSafetySolver</a> safetySolver(bd);
<a name="l00983"></a>00983     <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgBWSet.html">SgBWSet</a> safe;
<a name="l00984"></a>00984     safetySolver.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoSafetySolver.html#a0c662cce089fe927b18a4a6f872a8e69">FindSafePoints</a>(&amp;safe);
<a name="l00985"></a>00985     <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBlockIterator.html">GoBlockIterator</a> it(bd); it; ++it)
<a name="l00986"></a>00986     {
<a name="l00987"></a>00987         <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#afd337f4ec449af4cfe657b21993d556d">SgBlackWhite</a> c = bd.<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard.html#a911a29198a14d7bb65f2c9504f3a410c">GetStone</a>(*it);
<a name="l00988"></a>00988         <span class="keywordtype">bool</span> isDead = safe[<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#ad46e340d4ffa744bb5011cdb21991f80">SgOppBW</a>(c)].Contains(*it);
<a name="l00989"></a>00989         <span class="keywordflow">if</span> (! isDead &amp;&amp; ! safe[c].Contains(*it))
<a name="l00990"></a>00990         {
<a name="l00991"></a>00991             <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgStatistics.html">SgStatistics&lt;SgUctValue,int&gt;</a> averageStatus;
<a name="l00992"></a>00992             <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard_1_1StoneIterator.html">GoBoard::StoneIterator</a> it2(bd, *it); it2; ++it2)
<a name="l00993"></a>00993             {
<a name="l00994"></a>00994                 <span class="keywordflow">if</span> (territoryStatistics[*it2].Count() == 0)
<a name="l00995"></a>00995                     <span class="comment">// No statistics, maybe all simulations aborted due to</span>
<a name="l00996"></a>00996                     <span class="comment">// max length or mercy rule.</span>
<a name="l00997"></a>00997                     <span class="keywordflow">return</span> deadStones;
<a name="l00998"></a>00998                 averageStatus.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgStatistics.html#a0a2cb84ca7edb65ebccd5dcddd19437b">Add</a>(territoryStatistics[*it2].Mean());
<a name="l00999"></a>00999             }
<a name="l01000"></a>01000             <span class="keyword">const</span> <span class="keywordtype">float</span> threshold = 0.3f;
<a name="l01001"></a>01001             isDead =
<a name="l01002"></a>01002                 ((c == <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#a455e66a4a6ccc0a446eb2d10814c93a5">SG_BLACK</a> &amp;&amp; averageStatus.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgStatistics.html#a8ae65d20aa7c3bb25d6dec8ced31478e">Mean</a>() &lt; threshold)
<a name="l01003"></a>01003                  || (c == <a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/SgBlackWhite_8h.html#ae2543fbfd95354255bd12a052598b3ac">SG_WHITE</a> &amp;&amp; averageStatus.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgStatistics.html#a8ae65d20aa7c3bb25d6dec8ced31478e">Mean</a>() &gt; 1 - threshold));
<a name="l01004"></a>01004         }
<a name="l01005"></a>01005         <span class="keywordflow">if</span> (isDead)
<a name="l01006"></a>01006             <span class="keywordflow">for</span> (<a class="codeRef" doxygen="go.tags:../go-doc/" href="../go-doc/classGoBoard_1_1StoneIterator.html">GoBoard::StoneIterator</a> it2(bd, *it); it2; ++it2)
<a name="l01007"></a>01007                 deadStones.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgPointSet.html#a1a856bc30050741b78b2ed904c862473">Include</a>(*it2);
<a name="l01008"></a>01008     }
<a name="l01009"></a>01009     <span class="keywordflow">return</span> deadStones;
<a name="l01010"></a>01010 }
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <a class="code" href="classGoUctGlobalSearch.html" title="Full board Monte-Carlo tree search.">GoUctGlobalSearch&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>,
<a name="l01013"></a>01013                       <a class="code" href="classGoUctPlayoutPolicyFactory.html">GoUctPlayoutPolicyFactory&lt;GoUctBoard&gt;</a> &gt;&amp;
<a name="l01014"></a><a class="code" href="classGoUctCommands.html#a58db116e111bae4da3dcaa6ba204dd7b">01014</a> <a class="code" href="classGoUctCommands.html#a58db116e111bae4da3dcaa6ba204dd7b">GoUctCommands::GlobalSearch</a>()
<a name="l01015"></a>01015 {
<a name="l01016"></a>01016     <span class="keywordflow">return</span> <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">Player</a>().GlobalSearch();
<a name="l01017"></a>01017 }
<a name="l01018"></a>01018 
<a name="l01019"></a><a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">01019</a> <a class="code" href="classGoUctPlayer.html" title="Player using UCT.">GoUctPlayerType</a>&amp; <a class="code" href="classGoUctCommands.html#a29e802070f1438eabcdea6f41f1e7f41">GoUctCommands::Player</a>()
<a name="l01020"></a>01020 {
<a name="l01021"></a>01021     <span class="keywordflow">if</span> (<a class="code" href="classGoUctCommands.html#aa9b3b735895896ae85496ed102d49ec1">m_player</a> == 0)
<a name="l01022"></a>01022         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;player not GoUctPlayer&quot;</span>);
<a name="l01023"></a>01023     <span class="keywordflow">try</span>
<a name="l01024"></a>01024     {
<a name="l01025"></a>01025         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGoUctPlayer.html" title="Player using UCT.">GoUctPlayerType</a>&amp;<span class="keyword">&gt;</span>(*m_player);
<a name="l01026"></a>01026     }
<a name="l01027"></a>01027     <span class="keywordflow">catch</span> (<span class="keyword">const</span> bad_cast&amp;)
<a name="l01028"></a>01028     {
<a name="l01029"></a>01029         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;player not GoUctPlayer&quot;</span>);
<a name="l01030"></a>01030     }
<a name="l01031"></a>01031 }
<a name="l01032"></a>01032 
<a name="l01033"></a>01033 <a class="code" href="classGoUctPlayoutPolicy.html" title="Default playout policy for usage in GoUctGlobalSearch.">GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>&amp;
<a name="l01034"></a><a class="code" href="classGoUctCommands.html#ad8f52d049f31227eda2c5577fe5be29d">01034</a> <a class="code" href="classGoUctCommands.html#ad8f52d049f31227eda2c5577fe5be29d">GoUctCommands::Policy</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> threadId)
<a name="l01035"></a>01035 {
<a name="l01036"></a>01036     <a class="code" href="classGoUctPlayoutPolicy.html" title="Default playout policy for usage in GoUctGlobalSearch.">GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>* policy =
<a name="l01037"></a>01037         <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGoUctPlayoutPolicy.html" title="Default playout policy for usage in GoUctGlobalSearch.">GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a>*<span class="keyword">&gt;</span>(
<a name="l01038"></a>01038                                               <a class="code" href="classGoUctCommands.html#ad002188d12b9c0b0880be71ca7bf27a8" title="Return state of first thread, if search is of type GoUctGlobalSearch.">ThreadState</a>(threadId).Policy());
<a name="l01039"></a>01039     <span class="keywordflow">if</span> (policy == 0)
<a name="l01040"></a>01040         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;player has no GoUctPlayoutPolicy&quot;</span>);
<a name="l01041"></a>01041     <span class="keywordflow">return</span> *policy;
<a name="l01042"></a>01042 }
<a name="l01043"></a>01043 
<a name="l01044"></a><a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">01044</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">GoUctCommands::Register</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpEngine.html">GtpEngine</a>&amp; e)
<a name="l01045"></a>01045 {
<a name="l01046"></a>01046     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;final_score&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#aaa200930b02f9aa9f69daa41742e42c0" title="Return final score.">GoUctCommands::CmdFinalScore</a>);
<a name="l01047"></a>01047     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;final_status_list&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#aad3d1fe345f1fcc0b31bc8c45c5ef92c" title="Return final status of stones.">GoUctCommands::CmdFinalStatusList</a>);
<a name="l01048"></a>01048     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_bounds&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#aa0759a160c757f799f0edab9541ea696" title="Show UCT bounds of moves in root node.">GoUctCommands::CmdBounds</a>);
<a name="l01049"></a>01049     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_default_policy&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a748eb8b41fa63bc38799b0501dd10266">GoUctCommands::CmdDefaultPolicy</a>);
<a name="l01050"></a>01050     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_estimator_stat&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a23dda44c36033afb4ea98db207cb1ea8" title="Compute estimator statistics.">GoUctCommands::CmdEstimatorStat</a>);
<a name="l01051"></a>01051     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_gfx&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a85b7bbb2c1f4e749ba1bafb5f202015e" title="Show move values and sample numbers of last search.">GoUctCommands::CmdGfx</a>);
<a name="l01052"></a>01052     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_max_memory&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a75b230365aaf5853868328bf1c99c6ed" title="Computes the maximum number of nodes in search tree given the maximum allowed memory for the tree...">GoUctCommands::CmdMaxMemory</a>);
<a name="l01053"></a>01053     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_moves&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a34a7645188a7f5b1a4b6bf863e7fff11" title="Return a list of all moves that the search would generate in the current position.">GoUctCommands::CmdMoves</a>);
<a name="l01054"></a>01054     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_param_globalsearch&quot;</span>,
<a name="l01055"></a>01055              &amp;<a class="code" href="classGoUctCommands.html#a35ea6d6c885c911d0b506222e9ec058d" title="Get and set GoUctGlobalSearch parameters.">GoUctCommands::CmdParamGlobalSearch</a>);
<a name="l01056"></a>01056     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_param_policy&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a1643b0dfa9c2c12d22dfbb5510e410d9" title="Get and set GoUctPlayoutPolicy parameters.">GoUctCommands::CmdParamPolicy</a>);
<a name="l01057"></a>01057     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_param_player&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a1f0fda09fe13c3b0e61c2cce2fc98144" title="Get and set GoUctPlayer parameters.">GoUctCommands::CmdParamPlayer</a>);
<a name="l01058"></a>01058     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_param_rootfilter&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a59bac9d8e7379cc08f6da0fc9ef4dc3a" title="Get and set GoUctDefaultRootFilter parameters.">GoUctCommands::CmdParamRootFilter</a>);
<a name="l01059"></a>01059     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_param_search&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a201075d9347488ea8ddd19f2330c5755" title="Get and set SgUctSearch and GoUctSearch parameters.">GoUctCommands::CmdParamSearch</a>);
<a name="l01060"></a>01060     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_patterns&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a771652659174445ec7a8ee0c8ecc54c8" title="Show matching patterns.">GoUctCommands::CmdPatterns</a>);
<a name="l01061"></a>01061     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_policy_moves&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a9396d13b5ca87bb91fa711981f908e68" title="Return equivalent best moves in playout policy.">GoUctCommands::CmdPolicyMoves</a>);
<a name="l01062"></a>01062     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_prior_knowledge&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#ae7f2adbc177792dd25c71da1464f5c49" title="Show prior knowledge.">GoUctCommands::CmdPriorKnowledge</a>);
<a name="l01063"></a>01063     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_rave_values&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#aedbcd5d1e7c7c97651cf95f25c8aa9be" title="Show RAVE values of last search at root position.">GoUctCommands::CmdRaveValues</a>);
<a name="l01064"></a>01064     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_root_filter&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#ac6d477744235dbad19b105326f6b46ef" title="Return filtered root moves.">GoUctCommands::CmdRootFilter</a>);
<a name="l01065"></a>01065     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_savegames&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a65cca085dbb749dc59928d5e2ee8e142" title="Save all random games.">GoUctCommands::CmdSaveGames</a>);
<a name="l01066"></a>01066     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_savetree&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a488743c05194d2142b15ed9d84ce43ac" title="Save the UCT tree in SGF format.">GoUctCommands::CmdSaveTree</a>);
<a name="l01067"></a>01067     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_sequence&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a264cb9af6b0ba68650bcd7829d35f426" title="Show the best sequence from last search.">GoUctCommands::CmdSequence</a>);
<a name="l01068"></a>01068     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_score&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a64ad8a18451305cc898e6829b28acf6c" title="Count the score using the scoring function of UCT.">GoUctCommands::CmdScore</a>);
<a name="l01069"></a>01069     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_stat_player&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a4f18be54638d4367b320e83076f27a1e" title="Write statistics of GoUctPlayer.">GoUctCommands::CmdStatPlayer</a>);
<a name="l01070"></a>01070     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_stat_player_clear&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#af0d9ef354563d3425f45942c71beb288" title="Clear statistics of GoUctPlayer.">GoUctCommands::CmdStatPlayerClear</a>);
<a name="l01071"></a>01071     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_stat_policy&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#afb7b0d50aff541768922791647f351e6" title="Write statistics of playout policy.">GoUctCommands::CmdStatPolicy</a>);
<a name="l01072"></a>01072     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_stat_policy_clear&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a8fe4efbbc553b3f40963212b8a6c4f1e" title="Clear statistics of GoUctPlayoutPolicy Arguments: none   Only the statistics of the first thread&amp;#39;...">GoUctCommands::CmdStatPolicyClear</a>);
<a name="l01073"></a>01073     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_stat_search&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a0b19d0018c2f6afa0bf7beec39850446" title="Write statistics of search and tree.">GoUctCommands::CmdStatSearch</a>);
<a name="l01074"></a>01074     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_stat_territory&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a97816d7d6cd9d3fb6ace445b288289cc" title="Write average point status.">GoUctCommands::CmdStatTerritory</a>);
<a name="l01075"></a>01075     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_value&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a12bfadd3c664551e7a87e0977727fa00" title="Return value of root node from last search.">GoUctCommands::CmdValue</a>);
<a name="l01076"></a>01076     <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">Register</a>(e, <span class="stringliteral">&quot;uct_value_black&quot;</span>, &amp;<a class="code" href="classGoUctCommands.html#a8e019a61b4f7a348d756c2bcce5a4359" title="Return value of root node from last search, from Black&amp;#39;s point of view.">GoUctCommands::CmdValueBlack</a>);
<a name="l01077"></a>01077 }
<a name="l01078"></a>01078 
<a name="l01079"></a><a class="code" href="classGoUctCommands.html#a845ca9c8ac95b5c06770c287b42c75d5">01079</a> <span class="keywordtype">void</span> <a class="code" href="classGoUctCommands.html#ad379928c0558c9c808c53e7b5b6dbdfb">GoUctCommands::Register</a>(<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpEngine.html">GtpEngine</a>&amp; engine, <span class="keyword">const</span> std::string&amp; command,
<a name="l01080"></a>01080                              <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCallback.html">GtpCallback&lt;GoUctCommands&gt;::Method</a> method)
<a name="l01081"></a>01081 {
<a name="l01082"></a>01082     engine.<a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpEngine.html#a092329fdc01b2d16a79ac8f111e2c8e9">Register</a>(command, <span class="keyword">new</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpCallback.html">GtpCallback&lt;GoUctCommands&gt;</a>(<span class="keyword">this</span>, method));
<a name="l01083"></a>01083 }
<a name="l01084"></a>01084 
<a name="l01085"></a><a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">01085</a> <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">GoUctCommands::Search</a>()
<a name="l01086"></a>01086 {
<a name="l01087"></a>01087     <span class="keywordflow">try</span>
<a name="l01088"></a>01088     {
<a name="l01089"></a>01089         <a class="code" href="classGoUctObjectWithSearch.html" title="Interface implemented by object that owns a (single) GoUctSearch.">GoUctObjectWithSearch</a>&amp; <span class="keywordtype">object</span> =
<a name="l01090"></a>01090             <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classGoUctObjectWithSearch.html" title="Interface implemented by object that owns a (single) GoUctSearch.">GoUctObjectWithSearch</a>&amp;<span class="keyword">&gt;</span>(*m_player);
<a name="l01091"></a>01091         <span class="keywordflow">return</span> <span class="keywordtype">object</span>.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ad8840cb507beff797b822fe3f18aaa23">Search</a>();
<a name="l01092"></a>01092     }
<a name="l01093"></a>01093     <span class="keywordflow">catch</span> (<span class="keyword">const</span> bad_cast&amp;)
<a name="l01094"></a>01094     {
<a name="l01095"></a>01095         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;player is not a GoUctObjectWithSearch&quot;</span>);
<a name="l01096"></a>01096     }
<a name="l01097"></a>01097 }
<a name="l01098"></a>01098 <span class="comment"></span>
<a name="l01099"></a>01099 <span class="comment">/** Return state of first thread, if search is of type GoUctGlobalSearch.</span>
<a name="l01100"></a>01100 <span class="comment">    @throws GtpFailure, if search is a different subclass or threads are not</span>
<a name="l01101"></a>01101 <span class="comment">    yet created. */</span>
<a name="l01102"></a>01102 <a class="code" href="classGoUctGlobalSearchState.html" title="Global UCT-Search for Go.">GoUctGlobalSearchState&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a> &gt;&amp;
<a name="l01103"></a><a class="code" href="classGoUctCommands.html#ad002188d12b9c0b0880be71ca7bf27a8">01103</a> <a class="code" href="classGoUctCommands.html#ad002188d12b9c0b0880be71ca7bf27a8" title="Return state of first thread, if search is of type GoUctGlobalSearch.">GoUctCommands::ThreadState</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> threadId)
<a name="l01104"></a>01104 {
<a name="l01105"></a>01105     <a class="code" href="classGoUctSearch.html" title="Base class for UCT searches in Go.">GoUctSearch</a>&amp; search = <a class="code" href="classGoUctCommands.html#a543baae45b9519537d437549ef722f36">Search</a>();
<a name="l01106"></a>01106     <span class="keywordflow">if</span> (! search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#a2940f872481e251b3bdce4e5c6ad1629">ThreadsCreated</a>())
<a name="l01107"></a>01107         search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#ad7b69fe4d1798ece363002f620e250e9">CreateThreads</a>();
<a name="l01108"></a>01108     <span class="keywordflow">try</span>
<a name="l01109"></a>01109     {
<a name="l01110"></a>01110         <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>
<a name="l01111"></a>01111              <a class="code" href="classGoUctGlobalSearchState.html" title="Global UCT-Search for Go.">GoUctGlobalSearchState&lt;GoUctPlayoutPolicy&lt;GoUctBoard&gt;</a> <span class="keyword">&gt;</span>&amp;&gt;(
<a name="l01112"></a>01112                                                 search.<a class="codeRef" doxygen="smartgame.tags:../smartgame-doc/" href="../smartgame-doc/classSgUctSearch.html#af14b447f283f7faaecc7e3b434d7afbf">ThreadState</a>(threadId));
<a name="l01113"></a>01113     }
<a name="l01114"></a>01114     <span class="keywordflow">catch</span> (<span class="keyword">const</span> bad_cast&amp;)
<a name="l01115"></a>01115     {
<a name="l01116"></a>01116         <span class="keywordflow">throw</span> <a class="codeRef" doxygen="gtpengine.tags:../gtpengine-doc/" href="../gtpengine-doc/classGtpFailure.html">GtpFailure</a>(<span class="stringliteral">&quot;player has no GoUctGlobalSearchState&quot;</span>);
<a name="l01117"></a>01117     }
<a name="l01118"></a>01118 }
<a name="l01119"></a>01119 
<a name="l01120"></a>01120 <span class="comment">//----------------------------------------------------------------------------</span>
</pre></div></div>
</div>
<p>
<hr>
<div style="text-align:right;">
Sun Mar 13 2011 <a href="http://www.doxygen.org/">Doxygen</a> 1.7.1
</div>
</p>
</body>

<!-- Mirrored from fuego.sourceforge.net/fuego-doc-1.1/gouct-doc/GoUctCommands_8cpp_source.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 25 Apr 2012 18:02:59 GMT -->
</html>
